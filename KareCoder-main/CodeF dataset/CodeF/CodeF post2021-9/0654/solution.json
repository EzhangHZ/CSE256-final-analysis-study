["t = int(input())\nfor case in range(t):\n    (n, m, k) = tuple(map(int, input().split()))\n    p = n // m\n    q = p + 1\n    r = n % m\n    nouveau_indice = 1\n    for i in range(k):\n        indice = nouveau_indice\n        for j in range(m):\n            if j < r:\n                s = str(q)\n                for u in range(q):\n                    s += ' ' + str(indice)\n                    indice += 1\n                    if indice == n + 1:\n                        indice = 1\n                print(s)\n            else:\n                if j == r:\n                    nouveau_indice = indice\n                s = str(p)\n                for u in range(p):\n                    s += ' ' + str(indice)\n                    indice += 1\n                    if indice == n + 1:\n                        indice = 1\n                print(s)\n    print('')", "import sys\n\ndef read_line():\n    return sys.stdin.readline().strip()\n\ndef print_table(nums):\n    print(f\"{len(nums)} {' '.join([str(x) for x in nums])}\")\nt = int(read_line())\nfor _ in range(t):\n    (n, m, k) = tuple([int(x) for x in read_line().split()])\n    big_tables_starting_num = 0\n    big_tables_count = n % m\n    big_tables_size = 1 + n // m\n    small_tables_count = m - n % m\n    small_tables_size = n // m\n    people_at_big_tables = big_tables_size * big_tables_count\n    big_table_nums = [-1] * big_tables_size\n    small_table_nums = [-1] * small_tables_size\n    for _ in range(k):\n        i = 0\n        for bt in range(big_tables_count):\n            for x in range(1 + n // m):\n                big_table_nums[x] = (big_tables_starting_num + i) % n + 1\n                i += 1\n            print_table(big_table_nums)\n        for st in range(small_tables_count):\n            for x in range(n // m):\n                small_table_nums[x] = (big_tables_starting_num + i) % n + 1\n                i += 1\n            print_table(small_table_nums)\n        big_tables_starting_num = (big_tables_starting_num + people_at_big_tables) % n\n    print()", "import math\nt = int(input())\nfor _ in range(t):\n    (players_no, tables_no, games_no) = (int(el) for el in input().split())\n    small_table_size = players_no // tables_no\n    big_table_size = math.ceil(players_no / tables_no)\n    big_table_no = players_no % tables_no\n    small_tables_no = tables_no - big_table_no\n    first_small = 0\n    for game_no in range(games_no):\n        for i in range(big_table_no):\n            print(big_table_size, end=' ')\n            for j in range(big_table_size):\n                print((first_small + j) % players_no + 1, end='\\n' if j == big_table_size - 1 else ' ')\n            first_small += big_table_size % players_no\n        fill_player_no = first_small\n        for i in range(small_tables_no):\n            print(small_table_size, end=' ')\n            for j in range(small_table_size):\n                print((fill_player_no + j) % players_no + 1, end='\\n' if j == small_table_size - 1 else ' ')\n            fill_player_no += small_table_size % players_no\n    print('')", "t = int(input())\nfor _ in range(t):\n    (n, m, k) = map(int, input().split())\n    groups = []\n    arr = [i + 1 for i in range(n)]\n    z = 0\n    if n % m != 0:\n        larger = n // m + 1\n        while n % m != 0:\n            groups.append(larger)\n            n -= larger\n            m -= 1\n            z += larger\n    a = n // m\n    for _ in range(m):\n        groups.append(a)\n    while k:\n        curr = 0\n        for i in groups:\n            print(i, end=' ')\n            j = i\n            while j:\n                print(arr[curr], end=' ')\n                curr += 1\n                j -= 1\n            print()\n        arr = arr[z:] + arr[:z]\n        k -= 1\n    print()", "t = int(input())\nfor test in range(t):\n    (n, m, k) = list(map(int, input().split()))\n    cnt = (n + m - 1) // m * (n % m)\n    now = 1\n    for i in range(k):\n        for j in range(n % m):\n            print((n + m - 1) // m, end=' ')\n            for x in range((n + m - 1) // m):\n                print(now, end=' ')\n                now += 1\n                if now == n + 1:\n                    now = 1\n            print()\n        tmp = now\n        for j in range(m - n % m):\n            print(n // m, end=' ')\n            for x in range(n // m):\n                print(now, end=' ')\n                now += 1\n                if now == n + 1:\n                    now = 1\n        now = tmp\n        print()", "t = int(input())\nfor test in range(t):\n    (n, m, k) = list(map(int, input().split()))\n    cnt = (n + m - 1) // m * (n % m)\n    now = 1\n    for i in range(k):\n        for j in range(n % m):\n            print((n + m - 1) // m, end=' ')\n            for x in range((n + m - 1) // m):\n                print(now, end=' ')\n                now += 1\n                if now == n + 1:\n                    now = 1\n            print()\n        tmp = now\n        for j in range(m - n % m):\n            print(n // m, end=' ')\n            for x in range(n // m):\n                print(now, end=' ')\n                now += 1\n                if now == n + 1:\n                    now = 1\n        now = tmp\n        print()"]