["import sys, math\ninput = sys.stdin.readline\nINF = int(1000000000.0) + 7\n\ndef solve():\n    s = input().rstrip()\n    n = len(s)\n    if n % 2 == 1:\n        print('NO')\n        return\n    c = 0\n    d = 0\n    idx = -1\n    for i in range(n):\n        if s[i] == '?':\n            d += 1\n        elif s[i] == '(':\n            c += 1\n        else:\n            c -= 1\n    if d % 2 != c % 2 or abs(c) > d:\n        print('NO')\n        return\n    if d == 0:\n        print('YES')\n        return\n    if c >= 0:\n        d = (d - c) // 2\n    else:\n        d = (d + c) // 2 - c\n    a = [0] * n\n    cur = 0\n    for i in range(n):\n        if s[i] == '(':\n            cur += 1\n        elif s[i] == ')':\n            cur -= 1\n        elif d:\n            idx = i\n            cur += 1\n            d -= 1\n        else:\n            cur -= 1\n        a[i] = cur\n    ok = True\n    if a[idx] < 2:\n        ok = False\n    for i in range(idx + 1, n):\n        if s[i] == '?':\n            if ok:\n                print('NO')\n                return\n            else:\n                break\n        elif a[i] < 2:\n            ok = False\n    if n % 2 == 0 and a[n - 1] >= 0:\n        print('YES')\n        return\n    print('NO')\nt = 1\nt = int(input())\nfor i in range(1, t + 1):\n    solve()", "import sys\nimport math\n\ndef get_ints():\n    return map(int, sys.stdin.readline().strip().split())\n\ndef get_ls():\n    return list(map(int, sys.stdin.readline().strip().split()))\n\ndef test_ok(ok):\n    print('YES' if ok else 'NO')\n\ndef main():\n    for _ in range(int(input())):\n        s = input()\n        p = 0\n        q = 0\n        for c in s:\n            if c == '(':\n                p += 1\n            elif c == ')':\n                p -= 1\n            else:\n                q += 1\n            if 1 - p == q:\n                (q, p) = (0, 1)\n        print('YES' if p == q else 'NO')\nmain()", "import math\nt = int(input())\nfor i in range(t):\n    text = input()\n    wild = 0\n    pos = []\n    count = 0\n    if text[0] == ')' or text[-1] == '(':\n        print('NO')\n        continue\n    for char in text[1:-1]:\n        if char == '(':\n            count -= 1\n        if char == ')':\n            count += 1\n        if char == '?':\n            wild += 1\n        if count == wild:\n            count = 0\n            wild = 0\n    if wild >= 2 and abs(count) != wild:\n        print('NO')\n    else:\n        print('YES')", "import math\nt = int(input())\nfor i in range(t):\n    text = input()\n    q = 0\n    pos = []\n    count = 0\n    for char in text[1:-1]:\n        if char == '(':\n            count -= 1\n        if char == ')':\n            count += 1\n        if char == '?':\n            q += 1\n        if count == q:\n            count = 0\n            q = 0\n    if abs(count) != q:\n        print('NO')\n    else:\n        print('YES')", "for _ in range(int(input())):\n    s = input()\n    count = 0\n    question = 0\n    for i in s:\n        if i == '?':\n            question += 1\n        elif i == '(':\n            count += 1\n        else:\n            count -= 1\n        if count + question == 1:\n            question = 0\n            count = 1\n    if count == question:\n        print('YES')\n    else:\n        print('NO')", "for tt in range(int(input())):\n    (s, cnt, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            cnt += 1\n        elif i == ')':\n            cnt -= 1\n        else:\n            x += 1\n        if 1 - cnt == x:\n            x = 0\n            cnt = 1\n    if x == cnt:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor _ in range(t):\n    s = input()\n    value = 0\n    unknown = 0\n    for i in s:\n        if i == '(':\n            value += 1\n        elif i == ')':\n            value -= 1\n        else:\n            unknown += 1\n        if 1 - value == unknown:\n            unknown = 0\n            value = 1\n    if unknown == value:\n        print('YES')\n    else:\n        print('NO')", "for i in range(int(input())):\n    k = 0\n    l = 0\n    r = 0\n    x = -1\n    y = -1\n    for j in input():\n        if j == '(':\n            l += 1\n            r += 1\n            if x + 1:\n                x += 1\n                y += 1\n        elif j == ')':\n            if l < 1:\n                l = 1\n            else:\n                l -= 1\n            r -= 1\n            if x + 1:\n                if x:\n                    x -= 1\n                else:\n                    x += 1\n                y -= 1\n        else:\n            if l != r and x < 0:\n                x = l + 1\n                y = r - 1\n            elif x + 1:\n                if x:\n                    x -= 1\n                else:\n                    x += 1\n                y += 1\n            if l < 1:\n                l = 1\n            else:\n                l -= 1\n            r += 1\n        if r < 0:\n            k = 1\n        if y < 0:\n            y = -1\n            x = -1\n    print(['YES', 'NO'][k or l > 0 or x == 0])", "import math\nt = int(input())\nfor i in range(t):\n    text = input()\n    wild = 0\n    pos = []\n    count = 0\n    if text[0] == ')' or text[-1] == '(':\n        print('NO')\n        continue\n    for char in text[1:-1]:\n        if char == '(':\n            count -= 1\n        if char == ')':\n            count += 1\n        if char == '?':\n            wild += 1\n        if count == wild:\n            count = 0\n            wild = 0\n    if abs(count) != wild:\n        print('NO')\n    else:\n        print('YES')", "for tt in range(int(input())):\n    (s, cnt, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            cnt += 1\n        elif i == ')':\n            cnt -= 1\n        else:\n            x += 1\n        if 1 - cnt == x:\n            x = 0\n            cnt = 1\n    if x == cnt:\n        print('YES')\n    else:\n        print('NO')", "import re\nfor _ in ' ' * int(input()):\n    (wh, z) = (0, 0)\n    for i in input():\n        if i == '(':\n            z += 1\n        elif i == ')':\n            z -= 1\n        elif i == '?':\n            wh += 1\n        if z + wh == 1:\n            z = 1\n            wh = 0\n    if z == wh:\n        print('YES')\n    else:\n        print('NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    s = input()\n    o = 0\n    q = 0\n    for i in s:\n        if i == '(':\n            o += 1\n        elif i == ')':\n            o -= 1\n        else:\n            q += 1\n        if 1 - o == q:\n            (o, q) = (1, 0)\n    print('YES' if o == q else 'NO')", "for t in range(int(input())):\n    (s, c, x) = (input(), 0, 0)\n    for i in s:\n        if i == '(':\n            c += 1\n        elif i == ')':\n            c -= 1\n        else:\n            x += 1\n        if 1 - c == x:\n            x = 0\n            c = 1\n    if x == c:\n        print('YES')\n    else:\n        print('NO')", "in_il = lambda : list(map(int, input().split()))\nin_sl = lambda : input().split()\nin_i = lambda : int(input())\nMAX_INT = float('inf')\n\ndef solve():\n    seq = input()\n    v = 0\n    q = 0\n    for c in seq:\n        if c == '(':\n            v += 1\n        elif c == ')':\n            v -= 1\n        elif c == '?':\n            q += 1\n    v = -v\n    open = (q + v) // 2\n    close = (q - v) // 2\n    if open == 0 or close == 0:\n        print('YES')\n        return\n    done = False\n    new_v = 0\n    for c in seq:\n        if c == '(':\n            new_v += 1\n        elif c == ')':\n            new_v -= 1\n        elif c == '?':\n            if open > 0:\n                if open == 1:\n                    if done == False:\n                        new_v -= 1\n                        close -= 1\n                        done = True\n                    else:\n                        new_v += 1\n                        open -= 1\n                else:\n                    new_v += 1\n                    open -= 1\n            elif close > 0:\n                new_v -= 1\n                close -= 1\n        if new_v < 0:\n            print('YES')\n            return\n    print('NO')\nfor _ in range(in_i()):\n    solve()", "from collections import Counter\nfrom collections import deque\nfor _ in range(int(input())):\n    key = input()\n    cnt = 0\n    q = 0\n    for x in key:\n        if x == '(':\n            cnt += 1\n        if x == ')':\n            cnt -= 1\n        if x == '?':\n            q += 1\n        if cnt + q == 1:\n            cnt = 1\n            q = 0\n    if cnt == q:\n        print('YES')\n    else:\n        print('NO')", "tt = int(input())\nfor _ in range(tt):\n    a = input()\n    k = 0\n    x = 0\n    for i in range(len(a)):\n        if a[i] == '(':\n            k += 1\n        elif a[i] == ')':\n            k -= 1\n        else:\n            x += 1\n        if x + k == 1:\n            x = 0\n            k = 1\n    if x == k:\n        print('YES')\n    else:\n        print('NO')", "def check(s) -> bool:\n    t = 0\n    for c in s:\n        if c == '(':\n            t += 1\n        elif c == ')':\n            t -= 1\n            if t < 0:\n                return False\n        else:\n            assert False\n    return True\nfor _ in range(int(input())):\n    s = list(input())\n    cnt = len(s) // 2 - s.count('(')\n    if cnt == 0 or cnt == s.count('?'):\n        print('YES')\n        continue\n    for i in range(len(s)):\n        if s[i] != '?':\n            continue\n        s[i] = '(' if cnt > 1 or cnt == 0 else ')'\n        cnt -= 1\n    print('NO' if check(s) else 'YES')", "a = int(input())\nfor _ in range(a):\n    b = input()\n    lenb = len(b)\n    qmark = 0\n    status = 0\n    for i in range(lenb):\n        if b[i] == '(':\n            status += 1\n        elif b[i] == ')':\n            status -= 1\n        else:\n            qmark += 1\n        if status < 0 and qmark > 0:\n            qmark -= 1\n            status += 1\n        if status == 0 and qmark % 2 != 0:\n            qmark -= 1\n            status += 1\n    if qmark == 0 or qmark == status:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor i in range(t):\n    st = input()\n    k1 = 0\n    k2 = 0\n    for j in range(len(st)):\n        if st[j] == '?':\n            k1 += 1\n        elif st[j] == '(':\n            k2 += 1\n        else:\n            k2 -= 1\n        if 1 - k2 == k1:\n            k1 = 0\n            k2 = 1\n    if k1 == abs(k2):\n        print('YES')\n    else:\n        print('NO')", "for i in range(int(input())):\n    x = input()\n    left = 0\n    question = 0\n    for char in x:\n        if char == '(':\n            left += 1\n        elif char == ')':\n            left -= 1\n        elif char == '?':\n            question += 1\n        if question + left == 1:\n            question = 0\n            left = 1\n    if abs(left) == question:\n        print('YES')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    s = input()\n    a = s.count('?')\n    b = s.count('(')\n    c = s.count(')')\n    d = (a + c - b) // 2\n    e = a - d\n    if d * e == 0:\n        print('YES')\n        continue\n    t = 0\n    v = 0\n    m = True\n    for i in s:\n        if i == '(':\n            t += 1\n        elif i == ')':\n            if t == 0:\n                m = False\n                break\n            t -= 1\n        else:\n            v += 1\n            if v < d:\n                t += 1\n            elif v == d:\n                if t == 0:\n                    m = False\n                    break\n                t -= 1\n            elif v == d + 1:\n                t += 1\n            else:\n                t -= 1\n    if m:\n        print('NO')\n    else:\n        print('YES')", "for _ in range(int(input())):\n    str = input()\n    x = 0\n    y = 0\n    for j in range(len(str)):\n        if str[j] == '?':\n            x += 1\n        elif str[j] == '(':\n            y += 1\n        else:\n            y -= 1\n        if 1 - y == x:\n            x = 0\n            y = 1\n    if x == y:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor i in range(t):\n    st = input()\n    k1 = 0\n    k2 = 0\n    for j in range(len(st)):\n        if st[j] == '?':\n            k1 += 1\n        elif st[j] == '(':\n            k2 += 1\n        else:\n            k2 -= 1\n        if 1 - k2 == k1:\n            k1 = 0\n            k2 = 1\n    if k1 == abs(k2):\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor _ in range(t):\n    s = input().strip()\n    n = len(s)\n    left_bracket_num = n // 2\n    right_bracket_num = n // 2\n    for char in s:\n        if char == '(':\n            left_bracket_num -= 1\n        elif char == ')':\n            right_bracket_num -= 1\n    if left_bracket_num == 0 or right_bracket_num == 0:\n        print('YES')\n    else:\n        sum_before_qs = []\n        _sum = 0\n        idx = -1\n        for (idx, char) in enumerate(s):\n            if char == '(':\n                _sum += 1\n            elif char == ')':\n                _sum -= 1\n            else:\n                sum_before_qs.append(_sum + len(sum_before_qs))\n                if len(sum_before_qs) == left_bracket_num:\n                    break\n        if sum_before_qs[-1] < 1:\n            print('YES')\n        else:\n            current_value = sum_before_qs[-1] - 1\n            while True:\n                idx += 1\n                if s[idx] == '?':\n                    print('NO')\n                    break\n                elif s[idx] == '(':\n                    current_value += 1\n                else:\n                    current_value -= 1\n                    if current_value < 0:\n                        print('YES')\n                        break", "def solve():\n    s = list(input())\n    cnt = 0\n    bal = 0\n    n = len(s)\n    for i in range(n):\n        if s[i] == '?':\n            cnt += 1\n        elif s[i] == '(':\n            bal += 1\n        else:\n            bal -= 1\n    if cnt == abs(bal):\n        print('YES')\n        return\n    cntPos = (cnt - bal) // 2\n    placeNeg = False\n    for i in range(n):\n        if s[i] == '?':\n            if cntPos > 1:\n                s[i] = '('\n                cntPos -= 1\n            elif cntPos == 1:\n                if placeNeg:\n                    s[i] = '('\n                    cntPos -= 1\n                else:\n                    s[i] = ')'\n                    placeNeg = True\n            else:\n                s[i] = ')'\n    bal = 0\n    for i in range(n):\n        if s[i] == '(':\n            bal += 1\n        else:\n            bal -= 1\n        if bal < 0:\n            print('YES')\n            return\n    print('NO')\nT = int(input())\nfor t in range(T):\n    solve()", "t = int(input())\nfor i in range(t):\n    s = input()\n    cnt = 0\n    ans = 0\n    for j in range(len(s)):\n        if s[j] == '(':\n            cnt += 1\n        elif s[j] == ')':\n            cnt -= 1\n        else:\n            ans += 1\n        if cnt + ans == 1:\n            ans = 0\n            cnt = 1\n    if abs(cnt) == ans:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor i in range(t):\n    st = input()\n    k1 = 0\n    k2 = 0\n    for j in range(len(st)):\n        if st[j] == '?':\n            k1 += 1\n        elif st[j] == '(':\n            k2 += 1\n        else:\n            k2 -= 1\n        if 1 - k2 == k1:\n            k1 = 0\n            k2 = 1\n    if k1 == k2:\n        print('YES')\n    else:\n        print('NO')", "def check(s):\n    bal = 0\n    for i in s:\n        if i == '(':\n            bal += 1\n        else:\n            bal -= 1\n        if bal < 0:\n            return False\n    return bal == 0\nfor _ in range(int(input())):\n    s = list(input())\n    (op, cl) = (len(s) // 2, len(s) // 2)\n    pos = []\n    for i in range(len(s)):\n        if s[i] == '?':\n            pos.append(i)\n        elif s[i] == '(':\n            op -= 1\n        else:\n            cl -= 1\n    for (index, i) in enumerate(pos):\n        if index < op:\n            s[i] = '('\n        else:\n            s[i] = ')'\n    unique = True\n    if op > 0 and cl > 0:\n        (s[pos[op - 1]], s[pos[op]]) = (s[pos[op]], s[pos[op - 1]])\n        if check(s):\n            unique = False\n    if unique:\n        print('YES')\n    else:\n        print('NO')", "def main():\n    for t in range(int(input())):\n        s = list(input())\n        (a, b, c) = (0, 0, 0)\n        for i in s:\n            if i == '(':\n                a += 1\n            elif i == ')':\n                b += 1\n            else:\n                c += 1\n        if c < 2 or c == abs(a - b):\n            print('YES')\n            continue\n        a = len(s) // 2 - a\n        b = len(s) // 2 - b\n        (f1, f2) = (-1, -1)\n        for i in range(len(s)):\n            if a == 0:\n                break\n            if s[i] == '?':\n                s[i] = '('\n                a -= 1\n                if a == 0:\n                    f1 = i\n        for i in range(len(s) - 1, -1, -1):\n            if b == 0:\n                break\n            if s[i] == '?':\n                s[i] = ')'\n                b -= 1\n                if b == 0:\n                    f2 = i\n        s[f1] = '(' if s[f1] == ')' else ')'\n        s[f2] = '(' if s[f2] == ')' else ')'\n        flag = True\n        res = []\n        for i in range(len(s)):\n            if s[i] == '(':\n                res.append(s[i])\n            elif len(res):\n                res.pop(-1)\n            else:\n                flag = False\n                break\n        print('YES' if not flag else 'NO')\nmain()", "for _ in range(int(input())):\n    s = input()\n    cnt = 0\n    q = 0\n    for item in s:\n        if item == ')':\n            cnt += 1\n        elif item == '(':\n            cnt -= 1\n        else:\n            q += 1\n    opened = (q + cnt) // 2\n    closed = (q - cnt) // 2\n    if opened == 0 or closed == 0:\n        print('YES')\n        continue\n    check = ''\n    for i in range(opened - 1):\n        check += '('\n    check += ')'\n    check += '('\n    for i in range(closed - 1):\n        check += ')'\n    pnt = 0\n    l = list(s)\n    for i in range(len(s)):\n        if l[i] == '?':\n            l[i] = check[pnt]\n            pnt += 1\n    l1 = ''.join(l)\n    cnt1 = 0\n    flag = False\n    for item in l1:\n        if item == '(':\n            cnt1 += 1\n        elif item == ')':\n            cnt1 -= 1\n        if cnt1 < 0:\n            flag = True\n    if flag:\n        print('YES')\n    else:\n        print('NO')", "def isvalid(seq):\n    s = f = 0\n    for br in seq:\n        if br == '(':\n            s += 1\n        else:\n            f += 1\n        if f > s:\n            return False\n    return s == f\nfor _ in range(int(input())):\n    seq = [*input()]\n    n = len(seq)\n    seq[0] = '('\n    seq[-1] = ')'\n    os = of = nq = 0\n    for br in seq:\n        if br == '(':\n            os += 1\n        elif br == ')':\n            of += 1\n        else:\n            nq += 1\n    ns = (nq + of - os) // 2\n    nf = (nq + os - of) // 2\n    seq1 = []\n    last_open = first_close = None\n    for (i, br) in enumerate(seq):\n        if br == '?':\n            if ns:\n                ns -= 1\n                seq1.append('(')\n                last_open = i\n            else:\n                nf -= 1\n                seq1.append(')')\n                if first_close is None:\n                    first_close = i\n        else:\n            seq1.append(br)\n    if first_close is None or last_open is None:\n        print('YES')\n    else:\n        seq2 = seq1[:]\n        (seq2[last_open], seq2[first_close]) = (seq2[first_close], seq2[last_open])\n        if isvalid(seq2) and seq1 != seq2:\n            print('NO')\n        else:\n            print('YES')", "for i in range(int(input())):\n    s = input()\n    s = [i for i in s]\n    n = len(s)\n    open = close = 0\n    que = []\n    for i in range(n):\n        if s[i] == '(':\n            open += 1\n        elif s[i] == ')':\n            close += 1\n        else:\n            que.append(i)\n    if open == n // 2 or close == n // 2:\n        print('YES')\n        continue\n    open = n // 2 - open\n    close = n // 2 - open\n    for i in range(0, open):\n        s[que[i]] = '('\n    for i in range(open, len(que)):\n        s[que[i]] = ')'\n    for i in range(len(que)):\n        if s[que[i]] == ')':\n            s[que[i]] = '('\n            s[que[i - 1]] = ')'\n            break\n    stack = []\n    for i in s:\n        if i == ')' and stack and (stack[-1] == '('):\n            stack.pop()\n        else:\n            stack.append(i)\n    if stack:\n        print('YES')\n    else:\n        print('NO')", "def RBS(s):\n    cnt = 0\n    for i in s:\n        if i == '(':\n            cnt += 1\n        if i == ')':\n            cnt -= 1\n        if cnt < 0:\n            return False\n    if cnt == 0:\n        return True\n    else:\n        return False\nfor t in range(int(input())):\n    s = input()\n    n = len(s)\n    k = []\n    for i in s:\n        k.append(i)\n    ques = s.count('?')\n    f = s.count('(')\n    e = s.count(')')\n    if f > e:\n        extra = f - e\n        fb = (ques - extra) // 2\n        ef = extra + (ques - extra) // 2\n    else:\n        extra = e - f\n        fb = extra + (ques - extra) // 2\n        ef = (ques - extra) // 2\n    if fb == 0 or ef == 0:\n        print('YES')\n    else:\n        tques = ['('] * (fb - 1)\n        tques.append(')')\n        tques.append('(')\n        for i in range(ef - 1):\n            tques.append(')')\n        j = 0\n        for i in range(n):\n            if k[i] == '?':\n                k[i] = tques[j]\n                j += 1\n        print('NO' if RBS(k) else 'YES')", "def psp(s):\n    balanse = 0\n    for elem in s:\n        if elem == '(':\n            balanse += 1\n        else:\n            balanse -= 1\n        if balanse < 0:\n            return False\n    return balanse == 0\n\ndef get_answer(s):\n    q_indexes = []\n    for i in range(len(s)):\n        if s[i] == '?':\n            q_indexes.append(i)\n    close = s.count(')')\n    openn = s.count('(')\n    close_q = len(s) // 2 - close\n    open_q = len(s) // 2 - openn\n    if not (open_q and close_q):\n        return False\n    j = 0\n    for i in range(open_q):\n        s[q_indexes[j]] = '('\n        j += 1\n    for i in range(close_q):\n        s[q_indexes[j]] = ')'\n        j += 1\n    (s[q_indexes[open_q - 1]], s[q_indexes[open_q]]) = (s[q_indexes[open_q]], s[q_indexes[open_q - 1]])\n    return psp(s)\nt = int(input())\nfor j in range(t):\n    s = input()\n    s_list = [s[i] for i in range(len(s))]\n    if not get_answer(s_list):\n        print('YES')\n    else:\n        print('NO')", "def Balance(s):\n    b = 0\n    for x in s:\n        if x == ')':\n            b -= 1\n        if x == '(':\n            b += 1\n        if b < 0:\n            return False\n    return b == 0\nn = int(input())\nfor _ in range(n):\n    s = input()\n    s = [x for x in s]\n    left = len(s) // 2\n    right = len(s) // 2\n    index = []\n    for x in range(len(s)):\n        if s[x] == '(':\n            left -= 1\n        if s[x] == ')':\n            right -= 1\n        if s[x] == '?':\n            index.append(x)\n    for i in range(len(index)):\n        if i < left:\n            s[index[i]] = '('\n        else:\n            s[index[i]] = ')'\n    p = True\n    if left > 0 and right > 0:\n        (s[index[left]], s[index[left - 1]]) = (s[index[left - 1]], s[index[left]])\n        if Balance(''.join(s)):\n            p = False\n    if p:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor i in range(t):\n    s = input()\n    ss = list(s)\n    (l, r, x) = (0, 0, 0)\n    for i in s:\n        if i == '(':\n            l += 1\n        elif i == ')':\n            r += 1\n        else:\n            x += 1\n    n = len(s)\n    ln = n // 2 - l\n    rn = n // 2 - r\n    rnn = rn\n    (lx, rx) = (0, 0)\n    for i in range(n):\n        if ss[i] == '?':\n            if ln > 0:\n                ss[i] = '('\n                ln -= 1\n                if ln == 0:\n                    lx = i\n            else:\n                if rn == n // 2 - r:\n                    rx = i\n                rn -= 1\n                ss[i] = ')'\n    if n // 2 - l == 0 or n // 2 - r == 0:\n        print('YES')\n        continue\n    (ss[lx], ss[rx]) = (ss[rx], ss[lx])\n    ssss = ''.join(ss)\n    bal = 0\n    for i in ssss:\n        if i == '(':\n            bal += 1\n        if i == ')':\n            bal -= 1\n        if bal < 0:\n            print('YES')\n            break\n    if bal == 0:\n        print('NO')\n    elif bal > 0:\n        print('YES')", "from collections import Counter\nt = int(input())\nfor _ in range(t):\n    rbs = input().strip()\n    c = Counter(rbs)\n    n = sum(c.values()) // 2\n    L = n - c['(']\n    R = n - c[')']\n    bal = 0\n    if L == 0 or R == 0:\n        print('YES')\n        continue\n    for i in range(2 * n):\n        if bal < 0:\n            break\n        if rbs[i] == '?':\n            L -= 1\n            if L == 0:\n                bal -= 1\n                continue\n            elif L == -1:\n                bal += 1\n                continue\n        if rbs[i] == ')':\n            bal -= 1\n        elif rbs[i] == '(':\n            bal += 1\n        else:\n            bal += -1 if L < 0 else 1\n    else:\n        print('NO')\n        continue\n    print('YES')", "def helper(s):\n    val = 0\n    for i in s:\n        if i == '(':\n            val += 1\n        elif i == ')':\n            val -= 1\n        if val < 0:\n            return False\n    return True\nfor caseno in range(int(input())):\n    s = list(input().replace('()', '').strip())\n    n = len(s)\n    answer = 0\n    if n % 2:\n        print('NO')\n        continue\n    pval = n // 2\n    nval = n // 2\n    val = 0\n    for ele in s:\n        if ele == '(':\n            pval -= 1\n        elif ele == ')':\n            nval -= 1\n        else:\n            val += 1\n    if pval + nval != val:\n        print('NO')\n        continue\n    s1 = []\n    first_ind = -1\n    last_ind = n\n    for (j, i) in enumerate(s):\n        if i == '?':\n            if pval:\n                first_ind = max(j, first_ind)\n                s1 += ['(']\n                pval -= 1\n            elif nval:\n                last_ind = min(j, last_ind)\n                s1 += [')']\n                nval -= 1\n        else:\n            s1 += [i]\n    if helper(s1):\n        if first_ind != -1 and last_ind != n:\n            s2 = s1\n            s2[first_ind] = ')'\n            s2[last_ind] = '('\n            if helper(s2):\n                answer = 'NO'\n            else:\n                answer = 'YES'\n        else:\n            answer = 'YES'\n    else:\n        answer = 'NO'\n    print(answer)", "def Balance(s):\n    b = 0\n    for x in s:\n        if x == ')':\n            b -= 1\n        if x == '(':\n            b += 1\n        if b < 0:\n            return False\n    return b == 0\nn = int(input())\nfor _ in range(n):\n    s = input()\n    s = [x for x in s]\n    left = len(s) // 2\n    right = len(s) // 2\n    index = []\n    for x in range(len(s)):\n        if s[x] == '(':\n            left -= 1\n        if s[x] == ')':\n            right -= 1\n        if s[x] == '?':\n            index.append(x)\n    for i in range(len(index)):\n        if i < left:\n            s[index[i]] = '('\n        else:\n            s[index[i]] = ')'\n    p = True\n    if left > 0 and right > 0:\n        (s[index[left]], s[index[left - 1]]) = (s[index[left - 1]], s[index[left]])\n        if Balance(''.join(s)):\n            p = False\n    if p:\n        print('YES')\n    else:\n        print('NO')", "for i in range(int(input())):\n    rbs = input()\n    (bc, qmc, ss) = (0, 0, True)\n    for i in range(len(rbs)):\n        if rbs[i] == '(':\n            bc += 1\n        elif rbs[i] == ')':\n            bc -= 1\n        else:\n            qmc += 1\n        fl = len(rbs) - i - 1\n        (lowest, highest) = (max((bc + qmc) % 2, bc - qmc), min(bc + qmc, fl - abs(fl % 2 - (bc + qmc) % 2)))\n        if highest == lowest and qmc:\n            if qmc != abs(highest - bc):\n                ss = False\n            qmc = 0\n            bc = highest\n    print(['NO', 'YES'][ss])", "from copy import deepcopy\n\ndef solve():\n    a = list(input())\n    cop = deepcopy(a)\n    mas = [0] * (len(a) + 1)\n    our = []\n    openn = a.count('(')\n    close = a.count(')')\n    ask = a.count('?')\n    for i in range(len(a)):\n        if a[i] == '?':\n            if len(a) // 2 >= openn + 1:\n                a[i] = '('\n                openn += 1\n            else:\n                a[i] = ')'\n                close += 1\n    for i in range(len(a)):\n        if a[i] == ')':\n            mas[i + 1] = mas[i] - 1\n        elif a[i] == '(':\n            mas[i + 1] = mas[i] + 1\n    del mas[0]\n    minn = 0\n    for i in range(len(a) - 1, 0, -1):\n        if a[i] == ')' and cop[i] == '?':\n            minn = mas[i - 1]\n        else:\n            minn = min(minn, mas[i])\n        if a[i] == '(' and cop[i] == '?':\n            if minn > 1:\n                print('NO')\n                return 0\n    print('YES')\nnnnn = int(input())\nwhile nnnn:\n    nnnn -= 1\n    solve()"]