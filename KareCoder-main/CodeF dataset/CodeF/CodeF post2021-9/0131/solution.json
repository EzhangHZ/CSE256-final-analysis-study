["t = int(input())\nresult = []\nfor i in range(t):\n    n = int(input())\n    ai = list(map(int, input().split(' ')))\n    s = sum(ai)\n    h = False\n    for j in range(n - 1):\n        if (ai[j] == -1) & (ai[j + 1] == -1):\n            h = True\n            result.append(s + 4)\n            break\n    if h == False:\n        if ai.count(-1) == 0:\n            result.append(s - 4)\n        else:\n            result.append(s)\nfor i in result:\n    print(i)", "for i in range(int(input())):\n    int(input())\n    a = input()\n    s = list(map(int, a.split()))\n    if a.count('-1 -1') > 0:\n        print(sum(s) + 4)\n    elif a.count('-1 1') > 0 or a.count('1 -1') == 1:\n        print(sum(s))\n    else:\n        print(sum(s) - 4)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    d1 = True\n    d2 = True\n    for k in range(n - 1):\n        if a[k] == -1 and a[k + 1] == -1:\n            a[k] = 1\n            a[k + 1] = 1\n            d1 = False\n            d2 = False\n            print(sum(a))\n            break\n    if d1:\n        for k in range(n - 1):\n            if a[k] == -1 and a[k + 1] == 1:\n                a[k] = 1\n                a[k + 1] = -1\n                d2 = False\n                print(sum(a))\n                break\n            elif a[k] == 1 and a[k + 1] == -1:\n                a[k] = -1\n                a[k + 1] = 1\n                d2 = False\n                print(sum(a))\n                break\n    if d2:\n        a[0] = -1\n        a[1] = -1\n        print(sum(a))", "test = int(input())\nfor _ in range(test):\n    length = int(input())\n    nums = list(map(int, input().split()))\n    total = sum(nums)\n    maximum = nums.count(1)\n    if length == 2:\n        print(-1 * nums[0] + -1 * nums[1])\n    else:\n        left = 0\n        right = 1\n        if total == nums.count(1):\n            print(total - 4)\n        else:\n            while right < length:\n                if nums[left] == nums[right] and nums[left] == -1:\n                    total += 4\n                    break\n                left += 1\n                right += 1\n            print(total)", "import sys\nsys.setrecursionlimit(10 ** 9)\n\ndef m(L):\n    F = True\n    for i in range(len(L) - 1):\n        if L[i] == -1 and L[i + 1] == -1:\n            F = False\n            return sum(L) + 4\n    if F:\n        if sum(L) == len(L):\n            return len(L) - 4\n    return sum(L)\nfor i in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    print(m(l))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    flag = 0\n    for j in range(n):\n        if j <= n - 2:\n            if l[j] == -1 and l[j + 1] == -1:\n                print(sum(l) + 4)\n                flag = 1\n                break\n    if flag == 0:\n        if -1 in l:\n            print(sum(l))\n        else:\n            print(sum(l) - 4)", "import sys\ninput = sys.stdin.readline\nfor _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    s = sum(arr)\n    if s == len(arr):\n        s -= 4\n    else:\n        for i in range(len(arr) - 1):\n            if arr[i] == -1:\n                if arr[i + 1] == -1:\n                    s += 4\n                    break\n    print(s)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    s = sum(arr)\n    plus = -4\n    for a in arr:\n        if a < 0:\n            plus = 0\n            break\n    for i in range(1, n):\n        if arr[i] < 0 and arr[i - 1] < 0:\n            plus = 4\n            break\n    print(s + plus)", "for _ in range(int(input())):\n    n = int(input())\n    a = input()\n    c = list(map(int, a.split(' ')))\n    if '-1 -1' in a:\n        print(sum(c) + 4)\n    elif '-' not in a:\n        print(sum(c) - 4)\n    else:\n        print(sum(c))", "def solution(n, a: list):\n    sm = sum(a)\n    flag_two_minus = False\n    flag_minus_plus = False\n    for i in range(n - 1):\n        if a[i] + a[i + 1] == 0:\n            flag_minus_plus = True\n        if a[i] < 0 and a[i + 1] < 0:\n            flag_two_minus = True\n            break\n    if flag_two_minus:\n        return sm + 4\n    elif flag_minus_plus:\n        return sm\n    return sm - 4\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(solution(n, a))", "t = int(input())\nwhile t:\n    n = int(input())\n    l = list(map(int, input().split()))\n    s = sum(l)\n    flag = 0\n    for i in range(n - 1):\n        if l[i] == -1 and l[i + 1] == -1:\n            flag = 1\n            break\n    if flag == 0:\n        flag2 = 0\n        for i in range(n - 1):\n            if l[i] == -1 and l[i + 1] == 1 or (l[i] == 1 and l[i + 1] == -1):\n                flag2 = 1\n                break\n        if flag2 == 0:\n            print(s - 4)\n        else:\n            print(s)\n    else:\n        print(s + 4)\n    t -= 1", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().strip().split()))\n    f = False\n    for i in range(n - 1):\n        if a[i] == a[i + 1] and a[i] == -1:\n            a[i] = -1 * a[i]\n            a[i + 1] = -1 * a[i + 1]\n            f = True\n            print(sum(a))\n            break\n    if not f:\n        for i in range(n):\n            if a[i] != 1:\n                print(sum(a))\n                break\n        else:\n            print(sum(a) - 4)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    m = False\n    a = list(map(int, input().split()))\n    for i in range(n - 1):\n        if a[i] == -1:\n            if a[i + 1] == -1:\n                a[i] = 1\n                a[i + 1] = 1\n                m = True\n                break\n    if m == True:\n        print(sum(a))\n    else:\n        t = False\n        for i in range(n - 1):\n            if a[i] != a[i + 1]:\n                a[i] = -a[i]\n                a[i + 1] = -a[i + 1]\n                t = True\n                break\n        if t == True:\n            print(sum(a))\n        else:\n            a[0] = -a[0]\n            a[1] = -a[1]\n            print(sum(a))", "def flipFlopSum(array, length):\n    negative = False\n    Sum = sum(array)\n    for i in range(length - 1):\n        if array[i] == array[i + 1] == -1:\n            array[i] = array[i + 1] = 1\n            print(Sum + 4)\n            return\n        elif array[i] == -1 or array[i + 1] == -1:\n            negative = True\n    if negative:\n        print(Sum)\n    else:\n        print(Sum - 4)\ntestcases = int(input())\narrays = []\nfor _ in range(testcases):\n    length = int(input())\n    arrays.append([length, list(map(int, input().split()))])\nfor (length, array) in arrays:\n    flipFlopSum(array, length)", "def check(arr, k):\n    out = sum(arr)\n    for i in range(k - 1):\n        if arr[i] == -1 and arr[i + 1] == -1:\n            return out + 4\n            break\n    if out == len(arr):\n        return out - 4\n    else:\n        return out\nn = int(input())\nfor _ in range(n):\n    k = int(input())\n    arr = list(map(int, input().split()))\n    print(check(arr, k))", "def f():\n    h = int(input())\n    a = list(map(int, input().split()))\n    s = sum(a)\n    for i in range(1, len(a)):\n        if a[i] == -1 and a[i - 1] == -1:\n            print(s + 4)\n            return\n    for i in range(len(a)):\n        if a[i] == -1:\n            print(s)\n            return\n    print(s - 4)\nn = int(input())\nfor test in range(n):\n    f()", "t = int(input())\nres = []\nfor _ in range(t):\n    done = False\n    n = int(input())\n    a = list(map(int, input().split()))\n    for i in range(1, n):\n        if a[i] == -1 and a[i - 1] == -1:\n            a[i] = 1\n            a[i - 1] = 1\n            done = True\n            break\n    if not done:\n        for i in range(1, n):\n            if a[i] == -1 and a[i - 1] == 1:\n                done = True\n                break\n            if a[i] == 1 and a[i - 1] == -1:\n                done = True\n                break\n    if not done:\n        a[0] = -1\n        a[1] = -1\n    res.append(sum(a))\nfor i in res:\n    print(i)", "for _ in range(int(input())):\n    n = int(input())\n    nums = list(map(int, input().split()))\n    t = 0\n    for i in range(len(nums) - 1):\n        if nums[i] == -1 and nums[i + 1] == -1:\n            nums[i] = 1\n            nums[i + 1] = 1\n            t = 1\n            break\n        elif nums[i] == -1 and nums[i + 1] == 1 or (nums[i] == 1 and nums[i + 1] == -1):\n            continue\n    if t == 0:\n        if all((i == 1 for i in nums)):\n            nums[0] = -1\n            nums[1] = -1\n        elif all((i == -1 for i in nums)):\n            nums[0] = 1\n            nums[1] = 1\n    print(sum(nums))", "def program():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    record = -1\n    for i in range(len(a) - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            a[i] = 1\n            a[i + 1] = 1\n            record = -2\n            break\n        elif a[i] == 1 and a[i + 1] == -1 or (a[i] == -1 and a[i + 1] == 1):\n            record = i\n    else:\n        if record != -2 and record != -1:\n            if a[record] == 1:\n                a[record] = -1\n                a[record + 1] = 1\n            else:\n                a[record] = 1\n                a[record + 1] = -1\n        elif record == -1:\n            a[0] = -1\n            a[1] = -1\n    return sum(a)\nt = int(input())\nfor i in range(t):\n    print(program())", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if arr.count(-1) >= 2:\n        for i in range(n):\n            if i + 1 < n and arr[i] == arr[i + 1] and (arr[i] == -1):\n                arr[i] = 1\n                arr[i + 1] = 1\n                break\n        print(sum(arr))\n    elif arr.count(-1) == 0:\n        print(sum(arr) - 4)\n    else:\n        print(sum(arr))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    L = list(map(int, input().split()))\n    sum = 0\n    x = -L.count(-1)\n    y = L.count(1)\n    ans = False\n    for i in range(len(L) - 1):\n        if L[i] == -1 and L[i + 1] == -1:\n            ans = True\n            break\n    if x == 0 and y != 0:\n        print(y - 4)\n    elif y == 0 and x != 0:\n        print(x + 4)\n    elif x == 0 and y == 0:\n        print(0)\n    elif ans == False:\n        print(x + y)\n    else:\n        print(x + y + 4)", "def input_list():\n    return list(map(int, input().split()))\n\ndef solve(number, array):\n    ans = sum(array)\n    for i in range(0, number - 1):\n        if array[i] == array[i + 1] == -1:\n            ans += 4\n            return ans\n    for i in range(0, number - 1):\n        if array[i] == -1 * array[i + 1]:\n            return ans\n    for i in range(0, number - 1):\n        if array[i] == array[i + 1] == 1:\n            return ans - 4\ntest_case = int(input())\nfor _ in range(test_case):\n    num = int(input())\n    arr = input_list()\n    print(solve(num, arr))", "for _ in range(int(input())):\n    n = int(input())\n    num = list(map(int, input().split()))\n    x = 0\n    flag = False\n    result = sum(num)\n    for i in range(1, n):\n        if num[x] == -1 and num[i] == -1:\n            result += 4\n            flag = True\n            break\n        if num[x] == -1:\n            flag = True\n        x += 1\n    if num[x] == -1:\n        flag = True\n    if flag:\n        print(result)\n    else:\n        print(result - 4)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    x = list(map(int, input().split()))\n    s = 0\n    sm = sum(x)\n    p = 0\n    d = True\n    for i in x[0:n - 1]:\n        if i == -1:\n            s += i\n            p = 1\n        else:\n            s = 0\n        if s == -2:\n            print(sm + 4)\n            d = False\n            break\n    if x[n - 1] == -1:\n        s += -1\n        p = 1\n    if d == True:\n        if s == -2:\n            print(sm + 4)\n        elif p == 1:\n            print(sm)\n        else:\n            print(sm - 4)", "for _ in range(int(input())):\n    n = int(input())\n    a = [int(no) for no in input().split(' ')]\n    s1 = sum(a)\n    c = 0\n    d = 0\n    e = 0\n    for i in range(len(a) - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            c = 1\n            break\n        elif a[i] == 1 and a[i + 1] == 1:\n            d = 1\n        else:\n            e = 1\n    if c > 0:\n        print(s1 + 4)\n    elif e > 0:\n        print(s1)\n    else:\n        print(s1 - 4)", "t = int(input())\nfor p in range(t):\n    n = int(input())\n    s = input()\n    l = list(map(int, s.split()))\n    if '-1 -1' in s:\n        print(sum(l) + 4)\n    elif '-1' in s:\n        print(sum(l))\n    else:\n        print(sum(l) - 4)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().strip().split()))\n    if a.count(-1) == 0:\n        a[0] = -1\n        a[1] = -1\n        print(sum(a))\n    elif a.count(-1) == 1:\n        x = a.index(-1)\n        a[x - 1] = 1\n        a[x] = -1\n        print(sum(a))\n    else:\n        flag = True\n        for j in range(1, len(a)):\n            if a[j] == -1 and a[j - 1] == -1:\n                a[j] = 1\n                a[j - 1] = 1\n                flag = False\n                print(sum(a))\n                break\n            else:\n                continue\n        if flag:\n            print(sum(a))", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    f = g = 0\n    k = 0\n    for i in range(len(a) - 1):\n        if a[i] == a[i + 1] == -1:\n            f = 1\n            break\n    if f:\n        print(sum(a) + 4)\n    elif sum(a) == n:\n        print(sum(a) - 4)\n    else:\n        print(sum(a))", "a = int(input())\nfor i in range(a):\n    b = int(input())\n    c = list(map(int, input().split()))\n    if c.count(-1) == 0:\n        print(sum(c) - 4)\n    else:\n        for d in range(b - 1):\n            if c[d] == -1 and c[d + 1] == -1:\n                print(sum(c) + 4)\n                break\n        else:\n            print(sum(c))", "for _ in range(int(input())):\n    p = int(input())\n    t = list(map(int, input().split()))\n    lst = []\n    mini = 0\n    f1 = 0\n    raz = 0\n    for i in range(1, p):\n        if t[i] < 0 and t[i - 1] < 0:\n            t[i] = 1\n            t[i - 1] = 1\n            mini = 1\n            break\n        if t[i - 1] < 0 and t[i] > 0:\n            f1 = 1\n        if t[i - 1] > 0 and t[i] < 0:\n            f1 = 1\n    if f1 == 0 and mini == 0:\n        t[0] = -1\n        t[1] = -1\n        print(sum(t))\n    elif mini == 1:\n        print(sum(t))\n    else:\n        print(sum(t))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    mas = list(map(int, input().split()))[:n]\n    if n == sum(mas):\n        print(sum(mas) - 4)\n    else:\n        for j in range(len(mas) - 1):\n            if mas[j] + mas[j + 1] == -2:\n                (mas[j], mas[j + 1]) = (1, 1)\n                break\n        print(sum(mas))", "for _ in range(int(input())):\n    n = int(input())\n    a = input()\n    lst = list(map(int, a.split()))\n    if a.find('-1 -1') != -1:\n        print(sum(lst) + 4)\n    elif a.find('-1 1') != -1 or a.find('1 -1') != -1:\n        print(sum(lst))\n    else:\n        print(sum(lst) - 4)", "def sum(arr):\n    sum1 = 0\n    for i in arr:\n        sum1 = sum1 + i\n    return sum1\n\ndef ques():\n    sum1 = 0\n    t = int(input())\n    while t > 0:\n        n = int(input())\n        ans = list()\n        nums = list(map(int, input().split()))\n        s = 0\n        for i in range(n - 1):\n            if nums[i] == -1 and nums[i + 1] == -1:\n                s = 1\n                break\n            elif nums[i] == -1 and nums[i + 1] == 1 or (nums[i] == 1 and nums[i + 1] == -1):\n                s = 2\n        if s == 1:\n            ans = sum(nums) + 4\n        elif s == 2:\n            ans = sum(nums)\n        else:\n            ans = sum(nums) - 4\n        print(ans)\n        t -= 1\nques()", "t = int(input())\nwhile t > 0:\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if -1 not in arr:\n        arr[0] = -1\n        arr[1] = -1\n        print(sum(arr))\n    elif 1 not in arr:\n        arr[0] = 1\n        arr[1] = 1\n        print(sum(arr))\n    else:\n        flag = 0\n        for i in range(n - 1):\n            if arr[i] == -1 and arr[i + 1] == -1:\n                arr[i] = 1\n                arr[i + 1] = 1\n                flag = 1\n                break\n        if flag == 1:\n            print(sum(arr))\n        else:\n            print(sum(arr))\n    t = t - 1", "t = int(input())\nfor i in range(t):\n    num = int(input())\n    ind = list(map(int, input().split()))\n    result = 0\n    res = sum(ind)\n    if res == num:\n        print(num - 4)\n        result = 1\n    for j in range(0, num - 1):\n        if ind[j] == ind[j + 1] == -1:\n            ind[j] = ind[j + 1] = 1\n            break\n    if result == 0:\n        print(sum(ind))", "def main():\n    n = int(input())\n    v = list(map(int, input().split()))\n    tot = sum(v)\n    print(tot + 4 if any((a == -1 and b == -1 for (a, b) in zip(v, v[1:]))) else tot - 4 if tot == n else tot)\nt = int(input())\nfor _ in range(t):\n    main()", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(sum(a) + 4 * ('-1 -1' in s or -({1, -1} > {*a})))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    if -1 not in a:\n        print(sum(a) - 4)\n    else:\n        for i in range(1, n):\n            if a[i - 1] == -1 and a[i] == -1:\n                print(sum(a) + 4)\n                break\n        else:\n            print(sum(a))", "import sys\ninput = sys.stdin.readline\nfor _ in range(int(input())):\n    input()\n    a = list(map(int, input().split()))\n    for i in range(1, len(a)):\n        if -1 == a[i] == a[i - 1]:\n            print(sum(a) + 4)\n            break\n    else:\n        if -1 in a:\n            print(sum(a))\n        else:\n            print(sum(a) - 4)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    arr = [int(x) for x in input().split()]\n    s = sum(arr)\n    if s == n:\n        s = s - 4\n    else:\n        for j in range(n - 1):\n            if arr[j] == -1 and arr[j + 1] == -1:\n                s = s + 4\n                break\n    print(s)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    k = 0\n    for i in range(n - 1):\n        if l[i] == -1:\n            k = 2\n            if l[i + 1] == -1:\n                k = 1\n                break\n        elif l[i] == 1:\n            if l[i + 1] == -1:\n                k = 2\n    if k == 1:\n        print(sum(l) + 4, end='\\n')\n    elif k == 2:\n        print(sum(l), end='\\n')\n    else:\n        print(sum(l) - 4, end='\\n')", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(sum(a) - 2 * min(map(sum, zip(a, a[1:]))))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    pos = a.count(1)\n    neg = a.count(-1)\n    if neg == 0:\n        print(pos - 4)\n    else:\n        for i in range(n - 1):\n            if a[i] == -1 and a[i + 1] == -1:\n                pos += 2\n                neg -= 2\n                break\n        print(pos - neg)", "t = int(input())\nB = []\nfor i in range(t):\n    n = int(input())\n    A = list(map(int, input().split()))\n    if sum(A) == n:\n        B.append(sum(A) - 4)\n    else:\n        for i in range(n - 1):\n            if A[i] == -1 and A[i + 1] == -1:\n                A[i] = A[i] * -1\n                A[i + 1] = A[i + 1] * -1\n                break\n        suma = sum(A)\n        B.append(suma)\nfor i in B:\n    print(i)", "for t in range(int(input())):\n    n = int(input())\n    numbers = list(map(int, input().split()))\n    if n == 2:\n        print(-sum(numbers))\n    elif -1 not in numbers:\n        print(sum(numbers) - 4)\n    else:\n        for i in range(n):\n            if i < n - 1 and numbers[i] == -1 and (numbers[i + 1] == -1):\n                numbers[i] = numbers[i + 1] = 1\n                break\n        print(sum(numbers))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    ans = 'NO'\n    for j in range(n - 1):\n        if a[j] == -1 and a[j + 1] == -1:\n            ans = 'YES'\n            break\n    if ans == 'YES':\n        print(sum(a) + 4)\n    elif -1 in a:\n        print(sum(a))\n    else:\n        print(sum(a) - 4)", "for _ in range(int(input())):\n    a = int(input())\n    l = list(map(int, input().split()))\n    c = 0\n    for i in range(a - 1):\n        if l[i] == -1 and l[i + 1] == -1:\n            c = 1\n            break\n        elif l[i] == -1 and l[i + 1] == 1 or (l[i] == 1 and l[i + 1] == -1):\n            c = 2\n    s = sum(l)\n    if c == 1:\n        print(s + 4)\n    elif c == 2:\n        print(s)\n    else:\n        print(s - 4)", "n = int(input())\nfor _ in range(n):\n    k = int(input())\n    l = list(map(int, input().split()))\n    if k == sum(l):\n        print(k - 4)\n        continue\n    m = -1\n    c = 0\n    for i in range(k - 1):\n        if l[i] == -1 and l[i + 1] == -1:\n            l[i] = 1\n            l[i + 1] = 1\n            break\n    print(sum(l))", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    o = 0\n    oo = 0\n    s = sum(a)\n    for i in range(n - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            o = 1\n            break\n        elif a[i] == -1 and a[i + 1] or (a[i] == 1 and a[i + 1] == -1):\n            o = 2\n    if o == 1:\n        print(s + 4)\n    elif o == 2:\n        print(s)\n    else:\n        print(s - 4)", "def solve(arr):\n    for i in range(1, len(arr)):\n        if arr[i] == arr[i - 1] == -1:\n            return sum(arr) + 4\n    for i in range(1, len(arr)):\n        if arr[i] != arr[i - 1]:\n            return sum(arr)\n    return sum(arr) - 4\n\ndef main():\n    ans = []\n    for _ in range(int(input())):\n        n = int(input())\n        arr = list(map(int, input().split()))\n        ans.append(solve(arr))\n    print(*ans, sep='\\n')\nmain()", "import math\nk = int(input())\nfor q in range(k):\n    n = int(input())\n    a = list(map(int, input().split()))\n    if sum(a) == n:\n        print(n - 4)\n    else:\n        flag = 0\n        for i in range(n - 1):\n            if a[i] == -1 and a[i + 1] == -1:\n                print(sum(a) + 4)\n                flag = 1\n                break\n        if flag == 0:\n            print(sum(a))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    x = sum(l)\n    if x == n:\n        print(n - 4)\n    else:\n        for i in range(n):\n            if i != n - 1:\n                if l[i] == -1 and l[i + 1] == -1:\n                    x += 4\n                    break\n        print(x)", "def pairwise_sum(liste):\n    min = 3\n    for i in range(1, len(liste)):\n        if liste[i - 1] + liste[i] < min:\n            min = liste[i - 1] + liste[i]\n        if min == -2:\n            break\n    if min == -2:\n        return sum(liste) + 4\n    elif min == 0:\n        return sum(liste)\n    else:\n        return sum(liste) - 4\ndays = int(input())\nfor i in range(days):\n    length = int(input())\n    test = list(map(int, input().split(' ')))\n    print(pairwise_sum(test))", "def negatives(a):\n    x = 0\n    y = 1\n    for i in range(len(a) - 1):\n        if a[x] == '-1' and a[y] == '-1':\n            sum = 0\n            for i in a:\n                sum += int(i)\n            print(sum + 4)\n            break\n        else:\n            x += 1\n            y += 1\n    if y == len(a):\n        if '-1' not in a:\n            sum = 0\n            for i in a:\n                sum += int(i)\n            print(sum - 4)\n        elif '-1' in a:\n            sum = 0\n            for i in a:\n                sum += int(i)\n            print(sum)\nt = int(input())\nfor i in range(t):\n    c = int(input())\n    a = input().split()\n    if len(a) == c:\n        negatives(a)", "for t in range(int(input())):\n    n = int(input())\n    l = []\n    l = list(map(int, input().split(' ')))\n    count = 0\n    for i in range(n):\n        if count == 0 and l[i] == -1:\n            count = 1\n        elif count == 1 and l[i] == -1 and (l[i - 1] == -1):\n            count = 2\n            break\n    if count == 2:\n        ans = sum(l) + 4\n    elif count == 1:\n        ans = sum(l)\n    elif count == 0:\n        ans = sum(l) - 4\n    print(ans)", "for i in range(int(input())):\n    input()\n    v = input()\n    vv = sum(map(int, v.split()))\n    if '-1 -1' in v:\n        print(vv + 4)\n    elif '-1 1' in v or '1 -1' in v:\n        print(vv)\n    elif '1 1' in v:\n        print(vv - 4)", "def flipFlop(a):\n    suma = a[-1]\n    pronaden = 0\n    for i in range(len(a) - 1):\n        if pronaden != 1:\n            if a[i] == a[i + 1] == -1:\n                pronaden = 1\n            elif a[i] * a[i + 1] == -1:\n                pronaden = 2\n        suma += a[i]\n    if pronaden == 1:\n        return suma + 4\n    elif pronaden == 2:\n        return suma\n    else:\n        return suma - 4\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(flipFlop(a))", "def solve():\n    a = int(input())\n    c = list(map(int, input().split()))\n    cn = c.count(-1)\n    if cn == 0:\n        (c[0], c[1]) = (-1, -1)\n        print(sum(c))\n    else:\n        for i in range(len(c) - 1):\n            if c[i] == -1 and c[i + 1] == -1:\n                (c[i], c[i + 1]) = (1, 1)\n                break\n        print(sum(c))\na = int(input())\nfor i in range(a):\n    solve()", "for z in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))[:n]\n    s = sum(a)\n    mi = 5\n    for i in range(n - 1):\n        if a[i] + a[i + 1] < mi:\n            mi = a[i] + a[i + 1]\n            if mi == -2:\n                break\n    if mi == 2:\n        print(s - 4)\n    elif mi == 0:\n        print(s)\n    else:\n        print(s + 4)", "for t in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    if n == 2:\n        if a[0] == 1:\n            a[0] = -1\n        else:\n            a[0] = 1\n        if a[1] == -1:\n            a[1] = 1\n        else:\n            a[1] = -1\n    else:\n        f = 0\n        for i in range(n - 1):\n            if a[i] == -1 and a[i + 1] == -1:\n                f = 1\n                break\n        if f == 1:\n            a[i] = 1\n            a[i + 1] = 1\n        else:\n            f = 0\n            for i in range(n - 1):\n                if a[i] == 1 and a[i + 1] == -1 or (a[i] == -1 and a[i + 1] == 1):\n                    f = 1\n                    break\n            if f == 1:\n                a[i] = -a[i]\n                a[i + 1] = -a[i + 1]\n            else:\n                a[0] = -a[0]\n                a[1] = -a[1]\n    print(sum(a))", "for _ in range(int(input())):\n    a = int(input())\n    li = list(map(int, input().split()))\n    count1 = sum(li)\n    lo = count1\n    for i in range(a - 1):\n        if li[i] == -1 and li[i + 1] == -1:\n            count1 = count1 + 4\n            break\n    if li.count(-1) == 1:\n        print(lo)\n    elif li.count(-1) == 0:\n        print(lo - 4)\n    else:\n        print(count1)", "t = int(input())\nfor i in range(t):\n    l = int(input())\n    k = list(map(int, input().split()))\n    flag = 0\n    res = sum(k)\n    for i in range(l - 1):\n        if k[i] == -1 and k[i + 1] == -1:\n            flag = 1\n            break\n    if flag:\n        res += 4\n        print(res)\n        continue\n    for i in range(l - 1):\n        if k[i] * k[i + 1] == -1:\n            flag = 1\n            break\n    if flag:\n        print(res)\n    else:\n        res -= 4\n        print(res)", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(sum(a) + 4 * ('-1 -1' in s or -({1, -1} > {*a})))", "t = int(input())\nfor j in range(t):\n    n = int(input())\n    a = []\n    f = 0\n    a = list(map(int, input().split()))\n    for i in range(len(a) - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            f = 1\n            a[i] = 1\n            a[i + 1] = 1\n            break\n    if f != 1:\n        for i in range(len(a) - 1):\n            if a[i] == -1 and a[i + 1] == 1 or (a[i] == 1 and a[i + 1] == -1):\n                f = 2\n                break\n    if f == 0:\n        for k in range(len(a) - 1):\n            if a[k] == 1 and a[k + 1] == 1:\n                a[k] = -1\n                a[k + 1] = -1\n            break\n    print(sum(a))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    c = 0\n    for j in range(n - 1):\n        if l[j] == -1 and l[j + 1] == -1:\n            l[j] = 1\n            l[j + 1] = 1\n            c = 1\n            break\n    if c == 0:\n        for j in range(n - 1):\n            if l[j] == -1 and l[j + 1] == 1 or (l[j] == 1 and l[j + 1] == -1):\n                (l[j], l[j + 1]) = (l[j + 1], l[j])\n                c = 1\n                break\n        if c == 0:\n            for j in range(n - 1):\n                if l[j] == 1 and l[j + 1] == 1:\n                    (l[j], l[j + 1]) = (-1, -1)\n                    c = 1\n                    break\n    print(sum(l))", "for _ in range(int(input())):\n    n = int(input())\n    elements = list(map(int, input().split()))\n    (status, status2) = (False, False)\n    if elements[n - 1] == -1:\n        status2 = True\n    for i in range(n - 2, -1, -1):\n        if elements[i] == -1:\n            status2 = True\n        if elements[i] == -1 and elements[i + 1] == -1:\n            elements[i] = 1\n            elements[i + 1] = 1\n            stauts = True\n            break\n    if status:\n        print(sum(elements))\n    elif status2:\n        print(sum(elements))\n    else:\n        print(sum(elements) - 4)", "for _ in range(int(input())):\n    n = int(input())\n    elements = list(map(int, input().split()))\n    (status, status2) = (False, False)\n    if elements[n - 1] == -1:\n        status2 = True\n    for i in range(n - 2, -1, -1):\n        if elements[i] == -1:\n            status2 = True\n        if elements[i] == -1 and elements[i + 1] == -1:\n            elements[i] = 1\n            elements[i + 1] = 1\n            stauts = True\n            break\n    if status:\n        print(sum(elements))\n    elif status2:\n        print(sum(elements))\n    else:\n        print(sum(elements) - 4)", "for Y in [*open(0)][2::2]:\n    a = (*map(int, Y.split()),)\n    print(sum(a) - 2 * min(map(sum, zip(a, a[1:]))))", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    flag = False\n    for i in range(n - 1):\n        if arr[i] == arr[i + 1] == -1:\n            flag = True\n            break\n    if flag:\n        print(sum(arr) + 4)\n    elif -1 in arr:\n        print(sum(arr))\n    else:\n        print(sum(arr) - 4)", "import sys\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        n = input()\n        n = list(map(int, input().split()))\n        if -1 not in n:\n            print(sum(n) - 4)\n        elif '-1, -1' in str(n):\n            print(sum(n) + 4)\n        else:\n            print(sum(n))\nmain()\nsys.exit()", "def max_sum(num_list, size):\n    contain_negative = False\n    for i in range(size - 1):\n        if num_list[i] == -1 and num_list[i + 1] == -1:\n            return sum(num_list) + 4\n        elif num_list[i] == -1 or num_list[i + 1] == -1:\n            contain_negative = True\n    if contain_negative:\n        return sum(num_list)\n    return sum(num_list) - 4\n\ndef main():\n    test_case_num = int(input())\n    for _ in range(test_case_num):\n        current_size = int(input())\n        current_nums = input()\n        current_list = current_nums.split()\n        for i in range(current_size):\n            current_list[i] = int(current_list[i])\n        print(max_sum(current_list, current_size))\nmain()", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(sum(a) - 2 * min(map(sum, zip(a, a[1:]))))", "for i in range(int(input())):\n    n = int(input())\n    s = input()\n    l = list(map(int, s.split()))\n    if '-1 -1' in s:\n        print(sum(l) + 4)\n    elif '-1' in s:\n        print(sum(l))\n    else:\n        print(sum(l) - 4)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    found = False\n    for j in range(n - 1):\n        if a[j] == -1 and a[j + 1] == -1:\n            a[j] = 1\n            a[j + 1] = 1\n            found = True\n            break\n    if found == False and a.count(-1) == 0:\n        print(sum(a) - 4)\n    else:\n        print(sum(a))", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    if len(l) == 1:\n        print(l[0])\n    elif len(l) == 2:\n        l1 = [i * -1 for i in l]\n        print(sum(l1))\n    elif len(l) > 2:\n        x = l.count(-1)\n        if x == 0:\n            for i in range(0, len(l) - 1):\n                if l[i] == l[i + 1]:\n                    l[i] = -1 * l[i]\n                    l[i + 1] = -1 * l[i + 1]\n                    break\n            print(sum(l))\n        if x > 0:\n            for i in range(0, len(l) - 1):\n                if l[i] == l[i + 1] == -1:\n                    l[i] = 1\n                    l[i + 1] = 1\n                    break\n            print(sum(l))", "def solve():\n    n = int(input())\n    spic = list(map(int, input().split()))\n    tec = sum(spic)\n    a = False\n    for i in range(n - 1):\n        if spic[i] == spic[i + 1] == -1:\n            return tec + 4\n        if spic[i] != spic[i + 1]:\n            a = True\n    if a:\n        return tec\n    return tec - 4\nfor i in range(int(input())):\n    print(solve())", "out = []\nfor _ in range(int(input())):\n    n = int(input())\n    s = input()\n    a = [int(i) for i in s.split()]\n    if '-1 -1' in s:\n        out.append(sum(a) + 4)\n    elif '-1' in s:\n        out.append(sum(a))\n    else:\n        out.append(sum(a) - 4)\nfor i in out:\n    print(i)", "def helper(arr):\n    ans = sum(arr)\n    (pp, pm) = (False, False)\n    for i in range(len(arr) - 1):\n        if arr[i] == -1 and arr[i + 1] == -1:\n            return ans + 4\n        elif arr[i] == 1 and arr[i + 1] == 1:\n            pp = True\n        elif arr[i] == 1 and arr[i + 1] == -1 or (arr[i + 1] == 1 and arr[i] == -1):\n            pm = True\n    if pm:\n        return ans\n    elif pp:\n        return ans - 4\nfor i in range(int(input())):\n    n = int(input())\n    print(helper(list(map(int, input().split()))))", "for _ in range(int(input())):\n    N = int(input())\n    S = list(map(int, input().split()))\n    for i in range(len(S) - 1):\n        if S[i] == -1 and S[i + 1] == -1:\n            print(sum(S) + 4)\n            break\n    else:\n        if -1 in S:\n            print(sum(S))\n        else:\n            print(sum(S) - 4)", "import sys\nimport math\nfrom bisect import bisect_right as br\nfrom collections import deque, Counter\nfrom itertools import combinations as cb\nfrom collections import deque\n\ndef int_arr():\n    return list(map(int, sys.stdin.readline().strip().split()))\n\ndef str_arr():\n    return list(map(str, sys.stdin.readline().strip().split()))\n\ndef input():\n    return sys.stdin.readline().strip()\nfor _ in range(int(input())):\n    n = int(input())\n    arr = int_arr()\n    sm = sum(arr)\n    if -1 not in arr:\n        print(sm - 4)\n        continue\n    for i in range(0, n - 1):\n        if arr[i] == -1 and arr[i + 1] == -1:\n            print(sm + 4)\n            break\n    else:\n        print(sm)", "try:\n    for _ in range(int(input())):\n        n = int(input())\n        lst = list(map(int, input().split()))\n        ans = 0\n        flag1 = 0\n        flag2 = 0\n        for i in range(n - 1):\n            if lst[i] == -1 and lst[i + 1] == -1:\n                flag1 = 1\n                break\n            if lst[i] + lst[i + 1] == 0:\n                flag2 = 1\n        if flag1:\n            print(sum(lst) + 4)\n        elif flag2:\n            print(sum(lst))\n        else:\n            print(sum(lst) - 4)\nexcept Exception as e:\n    print(e)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    res = False\n    for i in range(n - 1):\n        if l[i] == l[i + 1] == -1:\n            l[i] = 1\n            l[i + 1] = 1\n            res = True\n            break\n    if res == False:\n        for i in range(n - 1):\n            if l[i] == 1 and l[i + 1] == -1:\n                l[i] = -1\n                l[i + 1] = 1\n                res = True\n                break\n    if res == False:\n        for i in range(n - 1):\n            if l[i] == -1 and l[i + 1] == 1:\n                l[i] = 1\n                l[i + 1] = -1\n                res = True\n                break\n    if res == False:\n        for i in range(n - 1):\n            if l[i] == 1 and l[i + 1] == 1:\n                l[i] = -1\n                l[i + 1] = -1\n                break\n    print(sum(l))", "T = int(input())\nfor _ in range(0, T):\n    n = int(input())\n    s = str(input())\n    if '-1 -1' in s:\n        s = s.split()\n        s = [int(i) for i in s]\n        print(sum(s) + 4)\n    elif '-1 1' in s or '1 -1' in s:\n        s = s.split()\n        s = [int(i) for i in s]\n        print(sum(s))\n    else:\n        s = s.split()\n        s = [int(i) for i in s]\n        print(sum(s) - 4)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    k = 0\n    for i in range(0, n - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            a[i] = 1\n            a[i + 1] = 1\n            k = 1\n            break\n        elif a[i] == 1 and a[i + 1] == -1 or (a[i] == -1 and a[i + 1] == 1):\n            k = 2\n    if k == 1 or k == 2:\n        print(sum(a))\n    else:\n        print(sum(a) - 4)", "t = int(input())\nwhile t:\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    s = sum(a)\n    if a.count(-1) == 0:\n        print(s - 4)\n        t -= 1\n        continue\n    elif a.count(1) == 0:\n        print(s + 4)\n        t -= 1\n        continue\n    for i in range(n - 1):\n        if a[i] + a[i + 1] == -2:\n            s += 4\n            break\n    print(s)\n    t -= 1", "t = int(input())\nans = []\nfor ti in range(t):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    s1 = sum(a)\n    s1_max = s1 - 4\n    for i in range(n - 1):\n        p = a[i] * a[i + 1]\n        if p < 0:\n            s1_max = max(s1, s1_max)\n        elif a[i] < 0:\n            s1_max = s1 + 4\n            break\n    ans.append(s1_max)\nfor a in ans:\n    print(a)", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split(' ')))\n    flag = False\n    for i in range(n - 1):\n        if arr[i] < 0 and arr[i + 1] < 0:\n            arr[i] = arr[i] * -1\n            arr[i + 1] = arr[i + 1] * -1\n            flag = True\n            break\n    if flag == False:\n        for i in range(n - 1):\n            if arr[i] == -1:\n                arr[i] = 1\n                arr[i + 1] = arr[i + 1] * -1\n                flag = True\n                break\n    if flag == False:\n        arr[-1] = arr[-1] * -1\n        arr[-2] = arr[-2] * -1\n    print(sum(arr))", "for _ in range(int(input())):\n    input()\n    nums = list(map(int, input().split()))\n    curr_sum = sum(nums)\n    nn_exists = False\n    np_exists = False\n    for i in range(len(nums) - 1):\n        if nums[i] == -1 and nums[i + 1] == -1:\n            nn_exists = True\n            break\n        if nums[i] * nums[i + 1] == -1:\n            np_exists = True\n    if nn_exists:\n        print(curr_sum + 4)\n    elif np_exists:\n        print(curr_sum)\n    else:\n        print(curr_sum - 4)", "for i in range(int(input())):\n    n = int(input())\n    li = list(map(int, input().split()))\n    c = 0\n    z = 0\n    for i in range(n - 1):\n        if li[i] == -1 and li[i + 1] == -1:\n            c = 4\n            z = 1\n            break\n        if li[i] == -1 and li[i + 1] == 1:\n            z = 2\n            continue\n        if li[i] == 1 and li[i + 1] == -1:\n            z = 3\n            continue\n    if z == 0:\n        print(sum(li) - 4)\n        continue\n    if z == 1:\n        print(sum(li) + 4)\n        continue\n    if z == 2:\n        print(sum(li))\n        continue\n    if z == 3:\n        print(sum(li))\n        continue", "for _ in ' ' * int(input()):\n    n = int(input())\n    x = list(map(int, input().split()))\n    s = sum(x)\n    a = 0\n    for i in range(n - 1):\n        if x[i] + x[i + 1] == -2:\n            print(s + 4)\n            break\n        if x[i] + x[i + 1] == 0:\n            a = 1\n    else:\n        print(s - 4 * (a == 0))", "for _ in range(int(input())):\n    n = int(input())\n    A = list(map(int, input().split()))\n    k = 0\n    for i in range(n - 1):\n        if A[i] == -1 and A[i + 1] == -1:\n            print(sum(A) + 4)\n            k = 1\n            break\n    if k == 0:\n        for i in range(n - 1):\n            if A[i] == 1 and A[i + 1] == -1 or (A[i] == -1 and A[i + 1] == 1):\n                print(sum(A))\n                break\n        else:\n            print(sum(A) - 4)", "n = int(input())\nres = []\nfor i in range(n):\n    k = int(input())\n    mas = list(map(int, input().split()))\n    for j in range(len(mas) - 1):\n        if mas[j] == mas[j + 1] == -1:\n            res.append(sum(mas) + 4)\n            break\n    else:\n        if -1 in mas:\n            res.append(sum(mas))\n        else:\n            res.append(sum(mas) - 4)\nprint(*res, sep='\\n')", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    done = False\n    for i in range(n - 1):\n        if a[i] == -1 and a[i + 1] == -1:\n            a[i] = 1\n            a[i + 1] = 1\n            done = True\n            break\n    if not done:\n        for i in range(n - 1):\n            if a[i] * a[i + 1] == -1:\n                a[i] *= -1\n                a[i + 1] *= -1\n                done = True\n                break\n    if not done:\n        a[0] = -1\n        a[1] = -1\n    print(sum(a))", "def exe():\n    f = 0\n    for i in lst:\n        if i == -1:\n            f = 1\n    if f == 0:\n        return n - 4\n    for i in range(n - 1):\n        if lst[i] == lst[i + 1] and lst[i] == -1:\n            lst[i] = -1 * lst[i]\n            lst[i + 1] = -1 * lst[i + 1]\n            break\n    s = 0\n    for i in lst:\n        s += i\n    return s\nfor i in range(int(input())):\n    n = int(input())\n    lst = list(map(int, input().split()))\n    print(exe())", "t = int(input())\nfor nouse in range(t):\n    n = int(input())\n    tmp = input()\n    s = tmp.replace(' ', '')\n    m = list(map(int, tmp.split()))\n    if '-1-1' in s:\n        print(m.count(1) - m.count(-1) + 4)\n    elif '-11' in s or '1-1' in s:\n        print(m.count(1) - m.count(-1))\n    else:\n        print(n - 4)", "T = int(input())\nfor _ in range(T):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    track = -1\n    end = False\n    for i in range(n - 1):\n        if arr[i] == -1 and arr[i + 1] == -1:\n            arr[i] = -arr[i]\n            arr[i + 1] = -arr[i + 1]\n            print(sum(arr))\n            end = True\n            break\n        if arr[i] == -1 and arr[i + 1] == 1 or (arr[i] == 1 and arr[i + 1] == -1):\n            track = i\n    if track != -1 and end == False:\n        arr[track] = -arr[track]\n        arr[track + 1] = -arr[track + 1]\n        print(sum(arr))\n    elif track == -1 and end == False:\n        arr[0] = -arr[0]\n        arr[1] = -arr[1]\n        print(sum(arr))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    ans = sum(a)\n    set_point = a[0] + a[1]\n    if set_point == -2:\n        ans += 4\n        print(ans)\n    else:\n        min_set_point = set_point\n        i = 2\n        while i < n:\n            set_point += a[i] - a[i - 2]\n            if set_point == -2:\n                ans += 4\n                break\n            elif set_point < min_set_point:\n                min_set_point = set_point\n            i += 1\n        if set_point == -2:\n            print(ans)\n        else:\n            print(ans - 2 * min_set_point)", "num = int(input())\nfor i in range(0, num):\n    n = int(input())\n    flag = 0\n    l = list(map(int, input().split(' ')))\n    if n == 2:\n        l[0] = l[0] * -1\n        l[1] = l[1] * -1\n        print(l[0] + l[1])\n        continue\n    for i in range(0, n - 1):\n        if l[i] == -1 and l[i + 1] == -1:\n            flag = 1\n            l[i] = 1\n            l[i + 1] = 1\n            break\n    if flag == 0:\n        if -1 in l:\n            ind = l.index(-1)\n            l[ind] = 1\n            if ind != 0:\n                l[0] = -1\n            else:\n                l[1] = -1\n        else:\n            l[0] = -1\n            l[1] = -1\n    print(sum(l))", "t = int(input())\nfor l in range(t):\n    n = int(input())\n    num = list(map(int, input().split()))\n    check = 0\n    for i in range(n - 1):\n        if num[i] == -1 and num[i + 1] == -1:\n            check = 1\n            break\n    if check == 0:\n        for j in range(n - 1):\n            if num[j] == -1 and num[j + 1] == 1 or (num[j] == 1 and num[j + 1] == -1):\n                check = 2\n                break\n    if check == 0:\n        print(sum(num) - 4)\n    elif check == 1:\n        print(sum(num) + 4)\n    elif check == 2:\n        print(sum(num))"]