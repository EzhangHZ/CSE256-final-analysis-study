["import sys\n\ndef get_ints():\n    return map(int, sys.stdin.readline().strip().split())\n\ndef get_ls():\n    return list(map(int, sys.stdin.readline().strip().split()))\n\ndef main():\n    for _ in range(int(input())):\n        (n, b, x, y) = get_ints()\n        a = 0\n        ans = a\n        for i in range(n):\n            if a + x <= b:\n                a += x\n            else:\n                a -= y\n            ans += a\n        print(ans)\nmain()", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return list(s[:len(s) - 1])\n\ndef invr():\n    return map(int, input().split())\n\ndef _FindMaxSum(num_elements, max_value, x, y):\n    max_sum = 0\n    prev_val = 0\n    for _ in range(num_elements):\n        if prev_val + x <= max_value:\n            prev_val += x\n        else:\n            prev_val -= y\n        max_sum += prev_val\n    return max_sum\n\ndef main():\n    num_tests = inp()\n    for t in range(num_tests):\n        (num_elements, max_value, x, y) = invr()\n        print(_FindMaxSum(num_elements, max_value, x, y))\nmain()", "import sys\ninput = sys.stdin.readline\nprint = sys.stdout.write\n\ndef main():\n    a = int(input())\n    for i in range(a):\n        (x, y, z, f) = map(int, input().split())\n        sm = 0\n        gh = 0\n        for j in range(x):\n            if gh + z <= y:\n                gh += z\n                sm += gh\n            else:\n                gh -= f\n                sm += gh\n        print(f'{sm}\\n')\nmain()", "N = int(input())\ntc = [[0, 0, 0, 0] for i in range(N)]\nfor i in range(N):\n    current_tc = str(input())\n    list_str = current_tc.split()\n    list_int = [int(list_str[j]) for j in range(len(tc[0]))]\n    tc[i] = list_int\n\ndef xyseq(n, B, x, y):\n    sum = 0\n    a = 0\n    for i in range(n):\n        a1 = a + x\n        a2 = a - y\n        if a1 <= B:\n            sum = sum + a1\n            a = a1\n        else:\n            sum = sum + a2\n            a = a2\n    return sum\nfor i in range(N):\n    [n, B, x, y] = tc[i]\n    print(xyseq(n, B, x, y))", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return list(s[:len(s) - 1])\n\ndef invr():\n    return map(int, input().split())\n\ndef solve(n, B, x, y):\n    total_sum = 0\n    ai = 0\n    for _ in range(n):\n        if ai + x > B:\n            ai -= y\n        else:\n            ai += x\n        total_sum += ai\n    return total_sum\ncount = inp()\nfor i in range(count):\n    [n, B, x, y] = inlt()\n    sum = solve(n, B, x, y)\n    print(f'{sum}')", "import sys\n\ndef test():\n    (n, b, x, y) = [int(x) for x in sys.stdin.readline().strip().split(' ')]\n    c = 0\n    s = 0\n    for _ in range(n):\n        if c + x <= b:\n            c += x\n        else:\n            c -= y\n        s += c\n    print(s)\nnum_test = int(sys.stdin.readline())\nfor _ in range(num_test):\n    test()", "t = int(input())\nanswers = [0] * 0\nfor i in range(t):\n    (n, b, x, y) = [int(num) for num in input().split()]\n    sum = 0\n    a = 0\n    for i in range(n):\n        if a + x <= b:\n            a += x\n            sum += a\n        else:\n            a -= y\n            sum += a\n    answers.append(sum)\nfor i in answers:\n    print(i)", "def compute(n, B, x, y):\n    main = [0]\n    for i in range(n):\n        main.append(main[i] + x if main[i] + x <= B else main[i] - y)\n    return sum(main)\nt = int(input())\nn = []\nB = []\nx = []\ny = []\nfor i in range(t):\n    a = list(map(int, input().split()))\n    n.append(a[0])\n    B.append(a[1])\n    x.append(a[2])\n    y.append(a[3])\nfor i in range(len(n)):\n    print(compute(n[i], B[i], x[i], y[i]))", "from sys import stdin\nfrom math import log, floor, ceil, gcd\nfrom collections import defaultdict as dd\ninput = stdin.readline\ninp = lambda : int(stdin.readline())\nrs = lambda : stdin.readline().strip()\n\ndef ra(typ):\n    return list(map(typ, stdin.readline().split()))\n\ndef rv(typ):\n    return map(typ, stdin.readline().split())\n\ndef main():\n    for _ in range(inp()):\n        (n, b, x, y) = rv(int)\n        (s, p) = (0, 0)\n        for i in range(n):\n            if p + x <= b:\n                s += p + x\n                p = p + x\n            else:\n                s += p - y\n                p = p - y\n        print(s)\nmain()", "import collections\nimport math\n\ndef main():\n    (n, B, x, y) = map(int, input().split())\n    a0 = 0\n    sum = 0\n    for i in range(n):\n        if a0 + x > B:\n            a0 -= y\n        else:\n            a0 += x\n        sum += a0\n    print(sum)\nt = int(input())\nwhile t > 0:\n    main()\n    t -= 1", "inputs = []\nfor _ in range(int(input())):\n    inputs.append([int(i) for i in input().split()])\nfor (n, b, x, y) in inputs:\n    term = 0\n    sm = 0\n    for _ in range(n):\n        if term + x > b:\n            term -= y\n        else:\n            term += x\n        sm += term\n    print(round(sm))", "def main():\n    t = int(input())\n    for _ in range(t):\n        t -= 1\n        (n, b, x, y) = map(int, input().split())\n        sum = 0\n        a = 0\n        for _a in range(n):\n            n -= 1\n            if a + x > b:\n                a -= y\n            else:\n                a += x\n            sum += a\n        print(sum)\nmain()", "def solve(n, b, x, y):\n    ans = 0\n    curr = 0\n    for i in range(1, n + 1):\n        if curr + x <= b:\n            curr += x\n        else:\n            curr += -y\n        ans += curr\n    print(ans)\n    return\ntest = int(input())\nfor te in range(0, test):\n    (n, b, x, y) = list(map(int, input().split()))\n    solve(n, b, x, y)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return list(s[:len(s) - 1])\n\ndef invr():\n    return map(int, input().split())\nfor _ in range(inp()):\n    lst = inlt()\n    n = lst[0]\n    B = lst[1]\n    x = lst[2]\n    y = lst[3]\n    res = 0\n    tmp = 0\n    for _ in range(n):\n        if tmp + x <= B:\n            tmp += x\n            res += tmp\n        else:\n            tmp -= y\n            res += tmp\n    print(res)", "t = int(input())\nfor p in range(0, t):\n    (n, b, x, y) = map(int, input().split())\n    k = 0\n    s = 0\n    for i in range(0, n):\n        if k + x <= b:\n            k = k + x\n            s = s + k\n        else:\n            k = k - y\n            s = s + k\n    print(s)", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    a = 0\n    r = 0\n    for i in range(n):\n        if a + x > b:\n            a -= y\n            r += a\n        else:\n            a += x\n            r += a\n    print(r)", "ans = []\nfor i in range(int(input())):\n    (n, B, x, y) = map(int, input().strip().split())\n    temp = 0\n    a = 0\n    for i in range(n):\n        a += x\n        if a > B:\n            a = a - x - y\n        temp += a\n    ans.append(temp)\nfor i in ans:\n    print(i)", "import sys\nt = int(sys.stdin.readline())\nfor k in range(0, t):\n    (n, B, x, y) = map(int, sys.stdin.readline().split())\n    a = 0\n    S = 0\n    for i in range(0, n):\n        if a + x > B:\n            S = S + a - y\n            a = a - y\n        else:\n            S = S + a + x\n            a = a + x\n    sys.stdout.write(str(S) + '\\n')", "def ans():\n    t = int(input())\n    for i in range(0, t):\n        tm = input().split(' ')\n        n = int(tm[0])\n        B = int(tm[1])\n        x = int(tm[2])\n        y = int(tm[3])\n        sum = 0\n        prev = 0\n        for j in range(1, n + 1):\n            if prev + x <= B:\n                sum += prev + x\n                prev = prev + x\n            else:\n                sum += prev - y\n                prev = prev - y\n        print(sum)\nans()", "for _ in range(int(input())):\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for i in range(n):\n        if a + x > B:\n            a -= y\n            s += a\n        else:\n            a += x\n            s += a\n    print(s)", "def solution(n, B, x, y):\n    sum1 = 0\n    ai = 0\n    for i in range(n):\n        if ai + x <= B:\n            ai += x\n        else:\n            ai -= y\n        sum1 += ai\n    print(sum1)\n\ndef main():\n    m = int(input())\n    while m:\n        s = input().split(' ')\n        (n, B, x, y) = (int(s[0]), int(s[1]), int(s[2]), int(s[3]))\n        solution(n, B, x, y)\n        m -= 1\nmain()", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    ans = 0\n    p = 0\n    for i in range(n):\n        if p + x > b:\n            p -= y\n        else:\n            p += x\n        ans += p\n    print(ans)", "x = int(input())\ninp = list()\nfor i in range(x):\n    l = list(map(int, input().split()))\n    inp.append(l)\nfor i in range(len(inp)):\n    n = inp[i][0]\n    B = inp[i][1]\n    x = inp[i][2]\n    y = inp[i][3]\n    temp = 0\n    summ = 0\n    for j in range(n):\n        if temp + x > B:\n            temp -= y\n        else:\n            temp += x\n        summ += temp\n    print(summ)", "def main():\n    tcs = int(input())\n    for i in range(tcs):\n        (n, B, x, y) = list(map(int, input().split()))\n        mx = 0\n        ap = 0\n        for i in range(n):\n            ax = ap + x\n            ay = ap - y\n            if ax > ay and ax <= B:\n                mx += ax\n                ap = ax\n            elif ay > ax and ay <= B:\n                mx += +ay\n                ap = ay\n            elif ax <= B and ay <= B:\n                mx += max(ax, ay)\n                ap = max(ax, ay)\n            elif ax <= B:\n                mx += ax\n                ap = ax\n            else:\n                mx += ay\n                ap = ay\n        print(mx)\nmain()", "def ans(n, B, x, y):\n    a = [0]\n    for i in range(n):\n        if a[-1] + x > B:\n            a.append(a[-1] - y)\n        else:\n            a.append(a[-1] + x)\n    return sum(a)\nt = int(input())\nfor i in range(t):\n    (n, B, x, y) = map(int, input().split())\n    print(ans(n, B, x, y))", "a = int(input())\nb = []\nfor i in range(a):\n    (n, B, x, y) = map(int, input().split())\n    q = 0\n    u = 0\n    if x < y and y <= 0:\n        (x, y) = (y, x)\n    for j in range(n):\n        if u + x > B:\n            q += u - y\n            u -= y\n        else:\n            q += u + x\n            u += x\n    b.append(q)\nfor i in b:\n    print(i)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return list(s[:len(s) - 1])\n\ndef invr():\n    return map(int, input().split())\nt = inp()\nfor i in range(t):\n    (n, B, x, y) = invr()\n    (max_, prev) = (0, 0)\n    for j in range(n):\n        if prev + x <= B:\n            prev += x\n        else:\n            prev -= y\n        max_ += prev\n    print(max_)", "k = int(input())\nres = [0 for i in range(k)]\nfor i in range(k):\n    inp = list(map(int, input().split()))\n    n = inp[0]\n    B = inp[1]\n    x = inp[2]\n    y = inp[3]\n    sum = 0\n    a = 0\n    if x > 0 and y > 0:\n        for j in range(n):\n            if a + x <= B:\n                a += x\n            else:\n                a -= y\n            sum += a\n    else:\n        print('zxc')\n    res[i] = sum\nfor i in res:\n    print(str(i))", "import math\nimport sys\nimport statistics\nfrom statistics import mode\ninput = sys.stdin.readline\n\ndef inp_int():\n    return int(input())\n\ndef inp_list():\n    return list(map(int, input().split()))\n\ndef inp_string():\n    s = input()\n    return list(s[:len(s) - 1])\n\ndef inp_reverse():\n    return map(int, input().split())\n\ndef lst_to_str(lst):\n    return ' '.join((str(e) for e in lst))\n\ndef is_square(i: int) -> bool:\n    return i == int(math.sqrt(i)) ** 2\n\ndef solve():\n    lst = inp_list()\n    (n, B, x, y) = lst\n    cnt = 0\n    cur = 0\n    for i in range(n):\n        if cur + x <= B:\n            cur += x\n        else:\n            cur -= y\n        cnt += cur\n    print(cnt)\nnumber_cases = inp_int()\nfor x in range(number_cases):\n    solve()", "t = int(input())\nfor _ in range(t):\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for i in range(n):\n        if a + x <= B:\n            a += x\n            s += a\n        else:\n            a -= y\n            s += a\n    print(s)", "import math\nfor t in range(int(input())):\n    (n, B, x, y) = map(int, input().split())\n    sum = 0\n    a = 0\n    for i in range(n):\n        if a + x <= B:\n            a = a + x\n        else:\n            a = a - y\n        sum += a\n    print(sum)", "def solve():\n    (n, b, x, y) = [int(x) for x in input().split()]\n    ans = 0\n    prev = 0\n    for i in range(n):\n        if prev + x > b:\n            prev = prev - y\n        else:\n            prev = prev + x\n        ans += prev\n    print(ans)\nfor tc in range(int(input())):\n    solve()", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    arr = [0]\n    for _ in range(n):\n        if arr[-1] + x <= b:\n            arr.append(arr[-1] + x)\n        else:\n            arr.append(arr[-1] - y)\n    print(sum(arr))", "import math\n\ndef intlist():\n    return [int(i) for i in input().split(' ')]\n\ndef stringlist():\n    return input().split(' ')\n\ndef yes(t):\n    if t:\n        return 'YES'\n    return 'NO'\n\ndef printjoin(l, str=False):\n    if str:\n        l = [str(i) for i in l]\n    return ' '.join(l)\n\ndef power_of_two(n):\n    b = bin(n)[2:]\n    return int(b) == 10 ** (len(b) - 1)\n\ndef bit_count(n):\n    return bin(n).count('1')\n\ndef gcd(x, y):\n    while y:\n        (x, y) = (y, x % y)\n    return x\n\ndef lcm(x, y):\n    lcm = x * y // gcd(x, y)\n    return lcm\n\ndef isint(str):\n    try:\n        int(str)\n        return True\n    except ValueError:\n        return False\n\ndef solve():\n    (n, b, x, y) = intlist()\n    s = 0\n    last = 0\n    for i in range(n):\n        if last + x <= b:\n            last += x\n            s += last\n        else:\n            last -= y\n            s += last\n    return s\nt = input()\nfor tt in range(int(t)):\n    print(solve())", "def solve():\n    (N, B, X, Y) = map(int, input().split())\n    sum1 = 0\n    prev = 0\n    for i in range(N):\n        if prev + X > B:\n            sum1 += prev - Y\n            prev = prev - Y\n        else:\n            sum1 += prev + X\n            prev = prev + X\n    return sum1\nremained_test_cases = 1\nremained_test_cases = int(input())\nwhile remained_test_cases > 0:\n    print(solve())\n    remained_test_cases -= 1", "def solve():\n    ans = [0]\n    for i in range(1, n + 1):\n        if ans[i - 1] + x <= B:\n            ans.append(ans[i - 1] + x)\n        else:\n            ans.append(ans[i - 1] - y)\n    return sum(ans)\nfrom sys import stdin\ninput = stdin.readline\nt = int(input())\nfor i in range(t):\n    (n, B, x, y) = [int(x) for x in input().split()]\n    print(solve())", "t = int(input())\nfor _ in range(t):\n    (n, b, x, y) = list(map(int, input().split()))\n    ans = 0\n    t = 0\n    for i in range(n):\n        if ans + x <= b:\n            ans += x\n        else:\n            ans -= y\n        t += ans\n    print(t)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    su = 0\n    a = 0\n    for i in range(1, n + 1):\n        if a + x <= b:\n            a = a + x\n            su += a\n        else:\n            a = a - y\n            su += a\n    print(su)", "t = int(input())\nfor _ in range(t):\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    y = x + y\n    for i in range(n):\n        a += x\n        if a > B:\n            a -= y\n        s += a\n    print(s)", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    if b >= n * x:\n        s = int(n * (n + 1) * x * 0.5)\n    else:\n        for j in range(n):\n            if a + x <= b:\n                a = a + x\n                s = s + a\n            elif a + x > b:\n                a = a - y\n                s = s + a\n    print(s)", "t = int(input())\nfor i in range(0, t):\n    (n, b, x, y) = list(map(int, input().split()))\n    c = []\n    c.append(0)\n    k = 0\n    for ele in range(0, n):\n        if k + x > b:\n            k = k - y\n            c.append(k)\n        else:\n            k = k + x\n            c.append(k)\n    print(sum(c))", "n = int(input())\nfor i in range(n):\n    (m, s, x, y) = map(int, input().split())\n    if x < -y:\n        (x, y) = (y, x)\n    last = 0\n    summ = 0\n    for i in range(m):\n        if last + x <= s:\n            last += x\n        else:\n            last -= y\n        summ += last\n    print(summ)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    ans = [0]\n    for i in range(n):\n        if ans[i] + x <= b:\n            ans.append(ans[i] + x)\n        else:\n            ans.append(ans[i] - y)\n    print(sum(ans))", "t = int(input())\nwhile t:\n    (n, b, x, y) = map(int, input().split())\n    arr = [0]\n    for i in range(1, n + 1):\n        if arr[-1] + x <= b:\n            arr.append(arr[-1] + x)\n        else:\n            arr.append(arr[-1] - y)\n    print(sum(arr))\n    t -= 1", "t = int(input())\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    mx = cnt = 0\n    for i in range(n):\n        if cnt + x <= b:\n            cnt += x\n            mx += cnt\n        else:\n            cnt -= y\n            mx += cnt\n    print(mx)", "import sys\nimport math\nt = int(input())\nfor i in range(t):\n    (n, B, x, y) = map(int, input().split())\n    a_i = 0\n    sum = 0\n    for i in range(n):\n        if a_i + x <= B:\n            a_i += x\n        else:\n            a_i -= y\n        sum += a_i\n    print(sum)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    s = 0\n    a = 0\n    for i in range(n):\n        if a + x <= b:\n            a += x\n            s += a\n        else:\n            a -= y\n            s += a\n    print(s)", "n_test_cases = int(input())\nresults = []\nfor _ in range(n_test_cases):\n    (n, B, x, y) = tuple([int(x) for x in input().split()])\n    sum_ = 0\n    vals = [0]\n    for _ in range(n):\n        if sum_ + x > B:\n            sum_ -= y\n        else:\n            sum_ += x\n        vals.append(sum_)\n    results.append(sum(vals))\nfor result in results:\n    print(result)", "def calculateSum(n, b, x, y):\n    prev = 0\n    s = 0\n    i = 0\n    while i < n:\n        if prev + x <= b:\n            s += prev + x\n            prev += x\n        else:\n            s += prev - y\n            prev -= y\n        i += 1\n    return s\nt = int(input())\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    print(calculateSum(n, b, x, y))", "from cmath import sqrt\nt = int(input())\nwhile t:\n    t -= 1\n    (n, b, x, y) = map(int, input().split())\n    sum = 0\n    count = 0\n    for i in range(n):\n        if sum + x <= b:\n            sum += x\n        else:\n            sum -= y\n        count += sum\n    print(count)", "def solve(n, B, x, y):\n    a = []\n    sum = 0\n    a.append(0)\n    for i in range(n):\n        v = a[i]\n        if v + x > B:\n            v = v - y\n            a.append(v)\n        else:\n            v = v + x\n            a.append(v)\n    for i in a:\n        sum += i\n    return sum\nt = int(input())\nfor i in range(t):\n    (n, B, x, y) = map(int, input().split())\n    print(solve(n, B, x, y))", "import math\ncase = int(input())\nfor i in range(case):\n    nums = input().split(' ')\n    n = int(nums[0])\n    B = int(nums[1])\n    x = int(nums[2])\n    y = int(nums[3])\n    total = 0\n    current = 0\n    for j in range(n):\n        if current + x <= B:\n            current += x\n            total += current\n        else:\n            current -= y\n            total += current\n    print(total)", "for t in range(int(input())):\n    l = input().split()\n    (n, b, x, y) = (int(l[0]), int(l[1]), int(l[2]), int(l[3]))\n    prev = 0\n    accum = 0\n    for i in range(1, n + 1):\n        if prev + x > b:\n            prev -= y\n        else:\n            prev += x\n        accum += prev\n    print(accum)", "import sys\n\ndef main():\n    t = int(sys.stdin.readline().strip())\n    for _ in range(t):\n        (n, b, x, y) = map(int, sys.stdin.readline().split())\n        arr = [0] * (n + 1)\n        for i in range(1, n + 1):\n            if arr[i - 1] + x <= b:\n                arr[i] = arr[i - 1] + x\n            else:\n                arr[i] = arr[i - 1] - y\n        print(sum(arr))\nmain()", "import math\nfor _ in range(int(input())):\n    (n, B, x, y) = map(int, input().split())\n    (total, a) = (0, 0)\n    for i in range(n):\n        if a + x <= B:\n            a += x\n        else:\n            a -= y\n        total += a\n    print(total)", "trails = int(input())\nanswer_list = []\nfor x in range(trails):\n    numbers = input().split(' ')\n    n = int(numbers[0])\n    b = int(numbers[1])\n    x = int(numbers[2])\n    y = int(numbers[3])\n    ans = 0\n    cur = 0\n    for g in range(n):\n        if cur + x <= b:\n            cur += x\n        else:\n            cur -= y\n        ans += cur\n    answer_list.append(ans)\nfor g in answer_list:\n    print(g)", "def func(n, b, x, y):\n    curr = 0\n    s = 0\n    for i in range(n):\n        if curr + x <= b:\n            curr += x\n        else:\n            curr -= y\n        s += curr\n    return s\nt = int(input())\nfor _ in range(t):\n    (n, b, x, y) = list(map(int, input().split()))\n    print(func(n, b, x, y))", "tests = int(input())\nfor i in range(tests):\n    (n, B, x, y) = list(map(int, input().split()))\n    ans = 0\n    ar = 0\n    for i in range(n):\n        if ar + x <= B:\n            ar += x\n        else:\n            ar -= y\n        ans += ar\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    ans = 0\n    prev = 0\n    for i in range(n):\n        if prev + x <= b:\n            prev += x\n        else:\n            prev -= y\n        ans += prev\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    res = 0\n    pre = 0\n    while n > 0:\n        if pre + x <= b:\n            pre = pre + x\n        else:\n            pre = pre - y\n        res += pre\n        n -= 1\n    print(res)", "for _ in range(int(input())):\n    (n, b, x, y) = input().split()\n    n = int(n)\n    b = int(b)\n    x = int(x)\n    y = int(y)\n    sum1 = 0\n    runi = 0\n    for i in range(0, n):\n        if runi + x <= b:\n            runi = runi + x\n            sum1 = sum1 + runi\n        elif runi + x > b:\n            runi = runi - y\n            sum1 = sum1 + runi\n    print(sum1)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    (ans, ans1) = (0, 0)\n    for i in range(n):\n        if ans1 + x > b:\n            ans += ans1 - y\n            ans1 -= y\n        else:\n            ans += ans1 + x\n            ans1 += x\n    print(ans)", "for i in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    t = 0\n    count = 0\n    for i in range(n):\n        if t + x > b:\n            t = t - y\n        else:\n            t = t + x\n        count += t\n    print(count)", "for _ in range(int(input())):\n    (n, B, x, y) = [int(i) for i in input().split()]\n    (num, summation) = (0, 0)\n    for i in range(n):\n        if num + x <= B:\n            num += x\n        else:\n            num -= y\n        summation += num\n    print(summation)", "t = input()\nt = int(t)\nS = []\nfor k in range(t):\n    S.append(0)\nfor j in range(t):\n    line = input()\n    line = line.split()\n    n = int(line[0])\n    B = int(line[1])\n    x = int(line[2])\n    y = int(line[3])\n    S[j] = 0\n    a = 0\n    for i in range(n):\n        if a + x <= B:\n            a += x\n        else:\n            a -= y\n        S[j] += a\nfor p in range(t):\n    print(S[p])", "import math\nt = int(input())\nfor _ in range(t):\n    (n, B, x, y) = map(int, input().split())\n    ans = 0\n    a = 0\n    for _ in range(n):\n        if a + x <= B:\n            a = a + x\n        else:\n            a = a - y\n        ans = ans + a\n    print(ans)", "t = int(input())\nfor i in range(t):\n    (n, B, x, y) = list(map(int, input().split()))\n    ans = 0\n    z = 0\n    for i in range(n):\n        if z + x <= B:\n            z = z + x\n            ans += z\n        else:\n            z = z - y\n            ans += z\n    print(ans)", "j = int(input())\nfor i in range(j):\n    (n, b, x, y) = input().split()\n    n = int(n)\n    b = int(b)\n    x = int(x)\n    y = int(y)\n    st = 0\n    su = 0\n    for i in range(n):\n        if st + x > b:\n            st -= y\n        else:\n            st += x\n        su += st\n    print(su)", "for _ in range(int(input())):\n    (neijfeijdeid, beeyeyyehsdhoa, xuehuwehd, yasdhsuaddh) = list(map(int, input().split()))\n    alskdjsufbuvf = 0\n    zsdakdlalaaaa = 0\n    for njksdakjsdkaj in range(neijfeijdeid):\n        if zsdakdlalaaaa + xuehuwehd <= beeyeyyehsdhoa:\n            zsdakdlalaaaa = zsdakdlalaaaa + xuehuwehd\n            alskdjsufbuvf += zsdakdlalaaaa\n        else:\n            zsdakdlalaaaa = zsdakdlalaaaa - yasdhsuaddh\n            alskdjsufbuvf += zsdakdlalaaaa\n    print(alskdjsufbuvf)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    result = 0\n    previous = 0\n    while n > 0:\n        if previous + x <= b:\n            previous += x\n        else:\n            previous -= y\n        result += previous\n        n -= 1\n    print(result)", "t = int(input())\nwhile t:\n    t -= 1\n    (n, b, x, y) = map(int, input().split())\n    sum = 0\n    value = 0\n    for i in range(n):\n        if value + x <= b:\n            value = value + x\n        else:\n            value = value - y\n        sum += value\n    print(sum)", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    a = 0\n    summ = 0\n    for j in range(n):\n        if a + x <= b:\n            a = a + x\n            summ = a + summ\n        else:\n            a = a - y\n            summ = a + summ\n    print(summ)", "t = int(input())\nfor i in range(t):\n    (n, B, x, y) = map(int, input().split())\n    sumi = 0\n    ai = 0\n    for i in range(n):\n        if ai + x <= B:\n            ai = ai + x\n            sumi += ai\n        else:\n            ai = ai - y\n            sumi += ai\n    print(sumi)", "def ans(li):\n    k = 0\n    sum = 0\n    while li[0] != 0:\n        k = k + li[2]\n        if k > li[1]:\n            k = k - li[2] - li[3]\n        sum = sum + k\n        li[0] = li[0] - 1\n    print(sum)\nt = int(input())\nwhile t != 0:\n    li = [int(i) for i in input().split()]\n    ans(li)\n    t = t - 1", "import math\nt = int(input())\nfor _ in range(t):\n    (n, B, x, y) = map(int, input().split())\n    ans = 0\n    current_val = 0\n    for i in range(n):\n        if current_val + x > B:\n            current_val -= y\n        else:\n            current_val += x\n        ans += current_val\n    print(ans)", "import sys\nimport math\nT = int(input())\nfor _ in range(T):\n    (n, B, x, y) = [int(i) for i in input().split()]\n    sm = 0\n    ans = 0\n    for i in range(n):\n        if sm + x > B:\n            sm -= y\n        else:\n            sm += x\n        ans += sm\n    print(ans)", "for _ in range(int(input())):\n    (n, B, x, y) = list(map(int, input().split(' ')))\n    N = 0\n    S = 0\n    for i in range(n):\n        if N > B or N + x > B:\n            N -= y\n            S += N\n        else:\n            N += x\n            S += N\n    print(S)", "t = int(input())\nfor tt in range(0, t):\n    (n, b, x, y) = map(int, input().split())\n    last = 0\n    sum = 0\n    for i in range(1, n + 1):\n        if last + x > b:\n            last -= y\n            sum += last\n        else:\n            last += x\n            sum += last\n    print(sum)", "t = int(input())\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    a = [0]\n    for i in range(n):\n        if a[i] + x <= b:\n            a.append(a[i] + x)\n        else:\n            a.append(a[i] - y)\n    print(sum(a))", "n = int(input())\nfor i in range(n):\n    (n, B, x, y) = map(int, input().split())\n    cnt = 0\n    tin = 0\n    for j in range(n):\n        temp = tin + x\n        if temp <= B:\n            cnt = cnt + temp\n            tin = temp\n        else:\n            temp = tin - y\n            cnt = cnt + temp\n            tin = temp\n    print(cnt)", "t = int(input())\n\ndef solve(n, b, x, y):\n    ans = [0]\n    c = 0\n    while c < n:\n        prev = ans[-1]\n        if x + prev <= b:\n            ans.append(x + prev)\n        else:\n            ans.append(prev - y)\n        c += 1\n    return sum(ans)\nfor _ in range(t):\n    (n, b, x, y) = map(int, input().split())\n    print(solve(n, b, x, y))", "import sys\nimport math\nimport bisect\nfrom sys import stdin, stdout\nfrom math import gcd, floor, sqrt, log\nfrom collections import defaultdict as dd\nfrom bisect import bisect_left as bl, bisect_right as br\nimport heapq\nsys.setrecursionlimit(100000000)\ninp = lambda : int(input())\nstrng = lambda : input().strip()\njn = lambda x, l: x.join(map(str, l))\nstrl = lambda : list(input().strip())\nmul = lambda : map(int, input().strip().split())\nmulf = lambda : map(float, input().strip().split())\nseq = lambda : list(map(int, input().strip().split()))\nceil = lambda x: int(x) if x == int(x) else int(x) + 1\nceildiv = lambda x, d: x // d if x % d == 0 else x // d + 1\nflush = lambda : stdout.flush()\nstdstr = lambda : stdin.readline()\nstdint = lambda : int(stdin.readline())\nstdpr = lambda x: stdout.write(str(x))\nmod = 998244353\n\ndef func():\n    (n, b, x, y) = mul()\n    sm = 0\n    st = 0\n    idx = 0\n    while idx < n:\n        if st + x > b:\n            st -= y\n            sm += st\n            idx += 1\n        else:\n            st += x\n            sm += st\n            idx += 1\n    print(sm)\nt = inp()\nfor i in range(t):\n    func()", "def solve(t):\n    (n, B, x, y) = list(map(int, input().split(' ')))\n    res = 0\n    sum = 0\n    for i in range(n):\n        if res + x > B:\n            res -= y\n        else:\n            res += x\n        sum += res\n    print(sum)\nfor t in range(int(input())):\n    solve(t)", "def solve():\n    temp = input().split()\n    (n, B, x, y) = (int(temp[0]), int(temp[1]), int(temp[2]), int(temp[3]))\n    res = 0\n    arr = [0] * (n + 1)\n    for i in range(1, n + 1):\n        if arr[i - 1] + x <= B:\n            arr[i] = arr[i - 1] + x\n        else:\n            arr[i] = arr[i - 1] - y\n    for x in arr:\n        res += x\n    print(res)\nfor case in range(int(input())):\n    solve()", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    sy = 0\n    e = 0\n    for i in range(n):\n        if e + x <= b:\n            e += x\n        else:\n            e -= y\n        sy += e\n    print(sy)", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    sy = 0\n    e = 0\n    for i in range(n):\n        if e + x <= b:\n            e += x\n        else:\n            e -= y\n        sy += e\n    print(sy)", "for _ in range(int(input())):\n    (a, b, x, y) = map(int, input().split())\n    sums = 0\n    s = 0\n    for i in range(a):\n        if s + x <= b:\n            s = s + x\n            sums += s\n        else:\n            s -= y\n            sums += s\n    print(sums)", "from math import *\nimport sys\n\ndef distance(x, w):\n    d = x * x + w * w\n    return d\nfor _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    r = f = 0\n    for i in range(n):\n        if r + x > b:\n            r -= y\n            f += r\n        else:\n            r += x\n            f += r\n    print(f)", "for _ in range(int(input())):\n    (n, b, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for _ in range(n):\n        if a + x > b:\n            a -= y\n        else:\n            a += x\n        s += a\n    print(s)", "n = int(input())\nfor _ in range(n):\n    (n, b, x, y) = [int(i) for i in input().split()]\n    l = [0]\n    for i in range(0, n):\n        if l[i] + x <= b:\n            l.append(l[i] + x)\n        else:\n            l.append(l[i] - y)\n    print(sum(l))", "import math\nfor i in range(int(input())):\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for k in range(n):\n        if a + x <= B:\n            s += a + x\n            a = a + x\n        else:\n            s += a - y\n            a = a - y\n    print(s)", "def solve(n, b, x, y):\n    maxPos = 0\n    prev = 0\n    for i in range(1, n + 1):\n        if prev + x > b:\n            maxPos += prev - y\n            prev = prev - y\n        else:\n            maxPos += prev + x\n            prev = prev + x\n    return maxPos\nT = int(input())\nfor _ in range(T):\n    (n, b, x, y) = list(map(int, input().split(' ')))\n    print(solve(n, b, x, y))", "m = int(input())\nj = 0\nwhile j < m:\n    j += 1\n    (n, b, x, y) = input().split()\n    (n, b, x, y) = (int(n), int(b), int(x), int(y))\n    p = 0\n    sum = 0\n    for i in range(n):\n        if p + x <= b:\n            p += x\n            sum += p\n        else:\n            p -= y\n            sum += p\n    print(sum)", "t = int(input())\nfor i in range(t):\n    (n, b, x, y) = map(int, input().split())\n    (ans, curr) = (0, 0)\n    for j in range(n):\n        curr += x if curr + x <= b else -y\n        ans += curr\n    print(ans)", "test_cases = int(input())\nfor _ in range(test_cases):\n    (n, b, x, y) = list(map(int, input().split()))\n    sequence_array = []\n    a = 0\n    for i in range(n):\n        if a + x <= b:\n            a += x\n            sequence_array.append(a)\n        else:\n            a -= y\n            sequence_array.append(a)\n    print(sum(sequence_array))", "def func():\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for i in range(n):\n        if a + x <= B:\n            a += x\n        else:\n            a -= y\n        s += a\n    print(s)\nfor i in range(int(input())):\n    func()", "def func():\n    (n, B, x, y) = map(int, input().split())\n    a = 0\n    s = 0\n    for i in range(n):\n        if a + x <= B:\n            a += x\n        else:\n            a -= y\n        s += a\n    print(s)\nfor i in range(int(input())):\n    func()"]