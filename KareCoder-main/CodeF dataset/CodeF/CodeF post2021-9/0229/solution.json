["from math import comb as cx\nfor _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    if len(set(l)) == 1:\n        print(len(l) * (len(l) - 1))\n    else:\n        z = l.count(max(l))\n        c = l.count(min(l))\n        print(c * z * 2)", "t = int(input())\n\ndef solve(n, arr):\n    (maxval, minval) = (arr.count(max(arr)), arr.count(min(arr)))\n    if min(arr) != max(arr):\n        return 2 * maxval * minval\n    return maxval * (maxval - 1)\nfor i in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    print(solve(n, arr))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = min(l)\n    b = max(l)\n    if a != b:\n        x = l.count(a)\n        y = l.count(b)\n        print(2 * x * y)\n    else:\n        print(n * (n - 1))", "t = int(input())\nwhile t:\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = min(l)\n    M = max(l)\n    a = l.count(m)\n    b = l.count(M)\n    if a != b:\n        ans = a * b * 2\n    elif a == n:\n        ans = n * (n - 1)\n    else:\n        ans = a * b * 2\n    print(ans)\n    t = t - 1", "t = int(input(''))\nfor z in range(t):\n    n = int(input(''))\n    a = list(map(int, input('').split()))[:n]\n    if max(a) == min(a):\n        print((n - 1) * n)\n    else:\n        ma = a.count(max(a))\n        mi = a.count(min(a))\n        print(ma * mi * 2)", "tests = int(input())\n\ndef inp():\n    input()\n    return list(map(int, input().split(' ')))\nresult = []\nfor i in range(tests):\n    nums = inp()\n    low = min(nums)\n    high = max(nums)\n    if low != high:\n        low_num = nums.count(low)\n        high_num = nums.count(high)\n        result.append(low_num * high_num * 2)\n    else:\n        a = nums.count(low)\n        result.append(a * (a - 1))\nfor i in result:\n    print(i)", "tests = int(input())\nfor test in range(tests):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    ai = min(arr)\n    aj = max(arr)\n    sol = 2 * arr.count(ai) * arr.count(aj)\n    if ai == aj:\n        sol = n * (n - 1)\n    print(sol)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    mx = max(a)\n    mn = min(a)\n    if mn == mx:\n        new = n * (n - 1) // 2\n        print(new * 2)\n    else:\n        new = a.count(mx) * a.count(mn)\n        print(new * 2)", "test_cases = int(input())\nfor x in range(test_cases):\n    num = int(input())\n    arr = list(map(int, input().split()))\n    a = min(arr)\n    b = max(arr)\n    if a == b:\n        print(num * (num - 1))\n        continue\n    print(arr.count(a) * arr.count(b) * 2)", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "def solve():\n    n = int(input())\n    lst = list(map(int, input().split()))\n    ans = 0\n    mini = min(lst)\n    maxi = max(lst)\n    cnt1 = lst.count(mini)\n    cnt2 = lst.count(maxi)\n    if mini == maxi:\n        ans = n * (n - 1)\n    else:\n        ans = 2 * cnt1 * cnt2\n    print(ans)\nt = int(input())\nfor _ in range(t):\n    solve()", "for i in range(int(input())):\n    z = int(input())\n    li = list(map(int, input().split()))\n    x = min(li)\n    y = max(li)\n    if x != y:\n        print(li.count(x) * li.count(y) * 2)\n    else:\n        print(z * (z - 1))", "tests = int(input())\nfor _ in range(tests):\n    leniii = int(input())\n    li = list(map(int, input().split()))\n    if min(li) == max(li):\n        print(leniii ** 2 - leniii)\n        continue\n    print(li.count(min(li)) * li.count(max(li)) * 2)", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    maxi = max(arr)\n    mini = min(arr)\n    macount = arr.count(maxi)\n    micount = arr.count(mini)\n    if maxi == mini:\n        ans = macount * (macount - 1)\n    else:\n        ans = macount * micount * 2\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    x = min(a)\n    y = max(a)\n    nx = a.count(x)\n    ny = a.count(y)\n    if nx == n:\n        print(n * (n - 1))\n    else:\n        print(2 * nx * ny)", "for t in range(0, int(input())):\n    n = int(input())\n    s = list(map(int, input().split()))\n    m1 = min(s)\n    m2 = max(s)\n    if m1 != m2:\n        print(s.count(m1) * s.count(m2) * 2)\n    else:\n        print(len(s) * (len(s) - 1))", "t = int(input())\nfor j in range(0, t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    a1 = min(a)\n    a2 = max(a)\n    a11 = a.count(a1)\n    a22 = a.count(a2)\n    if a11 == n:\n        print(n * (n - 1))\n    else:\n        print(2 * a11 * a22)", "T = int(input())\nfor _ in range(T):\n    n = int(input())\n    a = list(map(int, input().split()))\n    maxa = max(a)\n    mina = min(a)\n    if maxa != mina:\n        print(2 * a.count(maxa) * a.count(mina))\n    else:\n        print(n * (n - 1))", "import math\nfor _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    miner = min(arr)\n    maxer = max(arr)\n    miners = arr.count(miner)\n    maxers = arr.count(maxer)\n    if maxer == miner:\n        print(maxers * (maxers - 1))\n    else:\n        print(2 * miners * maxers)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    s = min(l)\n    a = l.count(s)\n    b = l.count(m)\n    print(a * b * 2) if m != s else print(a * (a - 1))", "for z in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    (min1, max1) = (min(arr), max(arr))\n    (l1, l2) = (arr.count(min1), arr.count(max1))\n    if min1 == max1:\n        print(l1 * (l2 - 1))\n    else:\n        print(2 * l1 * l2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split(sep=' ')))\n    flag = 1\n    if a.count(min(a)) == n:\n        flag = 0\n    if flag == 1:\n        ma = max(a)\n        mi = min(a)\n        x = a.count(ma)\n        y = a.count(mi)\n        print(x * y * 2)\n    else:\n        print(n * (n - 1))", "n = int(input())\nfor i in range(n):\n    b = int(input())\n    l = list(map(int, input().split()))\n    minimum = min(l)\n    maximum = max(l)\n    if minimum == maximum:\n        print(b * (b - 1))\n    else:\n        min_count = l.count(minimum)\n        max_count = l.count(maximum)\n        print(2 * min_count * max_count)", "for t in range(int(input())):\n    n = int(input())\n    a = [int(s) for s in input().split()]\n    if max(a) == min(a):\n        print(n * (n - 1))\n    else:\n        print(2 * a.count(max(a)) * a.count(min(a)))", "def foo2(arr):\n    if len(arr) == 1:\n        return 2\n    (max_val, min_val) = (max(arr), min(arr))\n    if max_val == min_val:\n        return len(arr) * (len(arr) - 1)\n    (a, b) = (arr.count(max_val), arr.count(min_val))\n    return 2 * a * b\ntest_size = int(input())\nfinal = []\nfor i in range(test_size):\n    size = input()\n    temp = input().split()\n    temp = [int(i) for i in temp]\n    final.append(foo2(temp))\nfor i in final:\n    print(i)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    mmax = max(a)\n    mmin = min(a)\n    c_max = a.count(mmax)\n    c_min = a.count(mmin)\n    if mmax == mmin:\n        print(c_max * (c_max - 1))\n        continue\n    print(2 * c_max * c_min)", "for iji in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    k = max(a)\n    l = min(a)\n    kk = a.count(k)\n    lk = a.count(l)\n    if k == l:\n        print(n * (n - 1))\n    else:\n        print(kk * lk * 2)", "a = int(input())\nfor x in range(a):\n    b = int(input())\n    c = input().split()\n    c = list(map(int, c))\n    if len(set(c)) != 1:\n        result = c.count(max(c)) * c.count(min(c)) * 2\n    else:\n        result = b * (b - 1)\n    print(result)", "for _ in range(int(input())):\n    (n, a) = (int(input()), list(map(int, input().split())))\n    if max(a) == min(a):\n        print(n * n - n)\n    else:\n        print(a.count(max(a)) * a.count(min(a)) * 2)", "for i in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = max(l)\n    b = min(l)\n    c = l.count(a)\n    d = l.count(b)\n    if a == b:\n        print(c * (c - 1))\n    else:\n        print(2 * c * d)", "for loop in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    amax = a.count(max(a))\n    if max(a) == min(a):\n        print(n * (n - 1))\n    else:\n        amin = a.count(min(a))\n        print(int(amin * amax * 2))", "t = int(input())\nwhile t > 0:\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    minn = min(a)\n    maxx = max(a)\n    if minn == maxx:\n        print(n * (n - 1))\n    else:\n        print(a.count(minn) * a.count(maxx) * 2)\n    t -= 1", "for i in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    e = max(l)\n    w = min(l)\n    t = l.count(e)\n    o = l.count(w)\n    if e == w:\n        print(t * (o - 1))\n    else:\n        print(o * t * 2)", "for tc in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    cnt1 = a.count(min(a))\n    if cnt1 == n:\n        print(n * (n - 1))\n    else:\n        cnt2 = a.count(max(a))\n        print(cnt1 * cnt2 * 2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    a = sorted(a)\n    l1 = a.count(a[0])\n    l2 = a.count(a[n - 1])\n    if l1 == n or l2 == n:\n        print(n * (n - 1))\n    else:\n        print(2 * l1 * l2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().strip().split()))\n    b = a.count(max(a))\n    c = a.count(min(a))\n    if min(a) != max(a):\n        l = 2 * c * b\n        print(l)\n    else:\n        print(n * (n - 1))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    mn = min(a)\n    mx = max(a)\n    c1 = a.count(mn)\n    c2 = a.count(mx)\n    if mn == mx:\n        print(n * (n - 1))\n    else:\n        print(c1 * c2 * 2)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    mxc = a.count(max(a))\n    mic = a.count(min(a))\n    m = max(a) - min(a)\n    if m == 0:\n        c = n * (n - 1)\n    else:\n        c = mxc * mic * 2\n    print(c)", "import math\nt = int(input())\nfor i in range(t):\n    c = 0\n    n = int(input())\n    l = list(map(int, input().split()))\n    r = max(l) - min(l)\n    if r == 0:\n        print(n * (n - 1))\n    else:\n        d = max(l)\n        e = min(l)\n        print(l.count(d) * l.count(e) * 2)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    mini = a.count(min(a))\n    maxi = a.count(max(a))\n    if len(set(a)) == 1:\n        print(n * (n - 1))\n    else:\n        print(mini * maxi * 2)", "for T in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    a.sort()\n    min_ = a.count(a[0])\n    max_ = a.count(a[-1])\n    if a[0] == a[-1]:\n        print(min_ * (min_ - 1))\n    else:\n        print(2 * (min_ * max_))", "def solve():\n    n = int(input())\n    arr = list(map(int, input().split()))\n    lowest = min(arr)\n    highest = max(arr)\n    if lowest == highest:\n        print(n * (n - 1))\n        return\n    frontequal = 0\n    backequal = 0\n    for i in range(n):\n        if arr[i] == lowest:\n            frontequal += 1\n        if arr[i] == highest:\n            backequal += 1\n    print(frontequal * backequal * 2)\ntc = int(input())\nfor _ in range(tc):\n    solve()", "t = int(input())\nimport math\nfor i in range(t):\n    n = int(input())\n    array = list(map(int, input().split()))\n    result = 0\n    (minimum, maksimum) = (min(array), max(array))\n    if minimum == maksimum:\n        result = n * (n - 1)\n    else:\n        result = array.count(minimum) * array.count(maksimum) * 2\n    print(result)", "for _ in range(int(input())):\n    n = int(input())\n    j = [int(i) for i in input().split(' ')]\n    ma = j.count(max(j))\n    mi = j.count(min(j))\n    if min(j) == max(j):\n        print(ma * (mi - 1))\n    else:\n        print(ma * mi * 2)", "for _ in range(int(input())):\n    n = int(input())\n    a = [*map(int, input().split())]\n    (p, q) = (max(a), min(a))\n    if p != q:\n        print(2 * a.count(q) * a.count(p))\n    else:\n        print(n * (n - 1))", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    maxi = max(arr)\n    mini = min(arr)\n    if maxi - mini == 0:\n        res = n * (n - 1)\n    else:\n        c_max = arr.count(maxi)\n        c_min = arr.count(mini)\n        res = c_max * c_min * 2\n    print(res)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().strip().split()))\n    ma = max(arr)\n    mi = min(arr)\n    count = arr.count(ma)\n    count1 = arr.count(mi)\n    if ma == mi:\n        print(n * (n - 1))\n    else:\n        print(count * count1 * 2)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    if a.count(a[0]) == n:\n        print(n * (n - 1))\n    else:\n        print(a.count(min(a)) * a.count(max(a)) * 2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    print(arr.count(min(arr)) * arr.count(max(arr)) * 2 if min(arr) != max(arr) else n * (n - 1))", "def main():\n    t = int(input())\n    while t > 0:\n        n = int(input())\n        arr = list(map(int, input().split()))\n        min_arr = min(arr)\n        max_arr = max(arr)\n        count_min = 0\n        count_max = 0\n        if min_arr == max_arr:\n            pairs_cnt = n * (n - 1)\n        else:\n            for num in arr:\n                if num == min_arr:\n                    count_min += 1\n                if num == max_arr:\n                    count_max += 1\n            pairs_cnt = count_min * count_max * 2\n        print(pairs_cnt)\n        t = t - 1\nmain()", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = min(l)\n    b = max(l)\n    if a != b:\n        x = l.count(a)\n        y = l.count(b)\n        print(2 * x * y)\n    else:\n        print(n * (n - 1))", "for _ in range(int(input())):\n    (n, a) = (int(input()), list(map(int, input().split())))\n    if max(a) == min(a):\n        print(n * n - n)\n    else:\n        print(a.count(max(a)) * a.count(min(a)) * 2)", "amount = int(input())\nfor a in range(amount):\n    length = int(input())\n    array = input()\n    array = array.split()\n    array = [int(a) for a in array]\n    mini = min(array)\n    maxi = max(array)\n    if mini == maxi:\n        print(len(array) * (len(array) - 1))\n    else:\n        count_mini = array.count(mini)\n        count_maxi = array.count(maxi)\n        count_mini = int(count_mini)\n        count_maxi = int(count_maxi)\n        print(count_mini * count_maxi * 2)", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "for _ in range(int(input())):\n    n = int(input())\n    k = list(map(int, input().split()))\n    maxi = max(k)\n    mini = min(k)\n    print(2 * (k.count(maxi) * k.count(mini)) if maxi != mini else n * (n - 1))", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = min(l)\n    b = max(l)\n    if a == b:\n        print(n * (n - 1))\n        continue\n    x = l.count(a) * l.count(b) * 2\n    print(x)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    lst = list(map(int, input().split()))\n    mini = min(lst)\n    maxi = max(lst)\n    ctmi = lst.count(mini)\n    ctmx = lst.count(maxi)\n    if mini == maxi:\n        print((ctmi - 1) * ctmx)\n    else:\n        print(ctmi * 2 * ctmx)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    lst = list(map(int, input().split()))\n    mini = min(lst)\n    maxi = max(lst)\n    ctmi = lst.count(mini)\n    ctmx = lst.count(maxi)\n    if mini == maxi:\n        print(ctmi * ctmi - ctmx)\n    else:\n        print(ctmi * 2 * ctmx)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(a.count(max(a)) * a.count(min(a)) * 2 if max(a) != min(a) else n * (n - 1))", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "t = int(input())\nfor tt in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    l = a.count(max(a))\n    s = a.count(min(a))\n    if l == n:\n        print(n * (n - 1))\n        continue\n    print(2 * l * s)", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "def solve():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    m = min(a)\n    M = max(a)\n    if m == M:\n        print(n * (n - 1))\n    else:\n        m = a.count(m)\n        M = a.count(M)\n        print(m * M * 2)\nfor _ in range(int(input())):\n    solve()", "t = int(input())\nfor x in range(t):\n    l = int(input())\n    li = [int(i) for i in input().split()]\n    m = min(li)\n    M = max(li)\n    if m == M:\n        print(l * (l - 1))\n    else:\n        m = li.count(m)\n        M = li.count(M)\n        print(m * M * 2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = max(l)\n    b = min(l)\n    if a == b:\n        print(n * (n - 1))\n    else:\n        print(2 * l.count(a) * l.count(b))", "def solution():\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if max(arr) == min(arr):\n        n = n - 1\n        interesting_pairs = n * (n + 1)\n    else:\n        o_max = arr.count(max(arr))\n        o_min = arr.count(min(arr))\n        interesting_pairs = o_max * o_min * 2\n    print(interesting_pairs)\nt = int(input())\nfor i in range(t):\n    solution()", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    an = [int(ai) for ai in s.split(' ')]\n    min_num = min(an)\n    max_num = max(an)\n    min_count = an.count(min_num)\n    max_count = an.count(max_num)\n    if min_num == max_num:\n        print(n * (n - 1))\n    else:\n        print(min_count * max_count * 2)", "def f(lst):\n    a = max(lst)\n    b = min(lst)\n    if a == b:\n        n = len(lst)\n        return n * (n - 1)\n    else:\n        return 2 * lst.count(a) * lst.count(b)\nt = int(input())\nfor i in range(t):\n    n = int(input())\n    inp = input()\n    lst = list(map(int, inp.split(' ')))\n    print(f(lst))", "n = int(input())\nl1 = []\nl2 = []\nfor i in range(n):\n    l1.append(int(input()))\n    l2.append([int(x) for x in input().split()])\nfor i in range(n):\n    a = max(l2[i])\n    b = min(l2[i])\n    if a == b:\n        print(l1[i] * (l1[i] - 1))\n    else:\n        print(l2[i].count(a) * l2[i].count(b) * 2)\nprint()", "n = int(input())\nfor i in range(n):\n    k = int(input())\n    l = list(map(int, input().split()))\n    g = l.count(min(l))\n    y = l.count(max(l))\n    if y == k:\n        print(y * (y - 1))\n    else:\n        print(g * y * 2)", "for _ in range(int(input())):\n    k = int(input())\n    l = list(map(int, input().split()))\n    g = l.count(min(l))\n    y = l.count(max(l))\n    if y == k:\n        print(y * (y - 1))\n    else:\n        print(g * y * 2)", "for _ in range(int(input())):\n    k = int(input())\n    l = list(map(int, input().split()))\n    g = l.count(min(l))\n    y = l.count(max(l))\n    if y == k:\n        print(y * (y - 1))\n    else:\n        print(g * y * 2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    lst = [int(i) for i in input().split()]\n    if min(lst) == max(lst):\n        print(n * (n - 1))\n    else:\n        mx = lst.count(max(lst))\n        mn = lst.count(min(lst))\n        print(mx * mn * 2)", "for _ in range(int(input())):\n    N = int(input())\n    A = list(map(int, input().split()))\n    if max(A) == min(A):\n        print(N * (N - 1))\n    else:\n        print(A.count(max(A)) * A.count(min(A)) * 2)", "num_test_cases = int(input())\nfor _ in range(num_test_cases):\n    n = int(input())\n    arr = sorted(map(int, input().split()))\n    if arr[0] == arr[-1]:\n        print(n * (n - 1))\n        continue\n    res = 2 * arr.count(arr[0]) * arr.count(arr[-1])\n    print(res)", "n = int(input())\nfor j in range(n):\n    f = int(input())\n    a = list(map(int, input().strip().split()))\n    if max(a) == min(a):\n        print(f * (f - 1))\n    else:\n        print(2 * a.count(max(a)) * a.count(min(a)))", "for s in [*open(0)][2::2]:\n    a = (*map(int, s.split()),)\n    print(2 * a.count((m := min(a))) * (a.count((M := max(a))) - (f := (M == m))) // (1 + f))", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m1 = max(a)\n    m2 = min(a)\n    if m1 == m2:\n        p = n * (n - 1)\n    else:\n        p = 2 * a.count(m1) * a.count(m2)\n    print(p)", "t = int(input())\nfor x in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    smallest = min(l)\n    largest = max(l)\n    num_s = l.count(smallest)\n    num_l = l.count(largest)\n    if smallest == largest:\n        print(num_l * (num_s - 1))\n    else:\n        print(2 * num_l * num_s)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    (Max, Min) = (max(a), min(a))\n    (maxcount, mincount) = (a.count(Max), a.count(Min))\n    if Max == Min:\n        print(maxcount * (mincount - 1) if maxcount > 1 and mincount > 1 else 0)\n    else:\n        print(mincount * maxcount * 2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    mini_count = l.count(min(l))\n    maxi_count = l.count(max(l))\n    ins = 0\n    if max(l) == min(l):\n        print(mini_count * (mini_count - 1))\n    else:\n        print(maxi_count * mini_count * 2)", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(a.count(max(a)) * a.count(min(a)) * 2 if max(a) != min(a) else n * (n - 1))", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    maximum = max(a)\n    minimum = min(a)\n    maxmindiff = maximum - minimum\n    if maxmindiff == 0:\n        print(n * (n - 1))\n    else:\n        count_min = a.count(minimum)\n        count_max = a.count(maximum)\n        print(2 * (count_max * count_min))", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    maxval = arr.count(max(arr))\n    minval = arr.count(min(arr))\n    if max(arr) == min(arr):\n        print(n * (n - 1))\n    else:\n        print(minval * maxval * 2)", "import sys\ninput = sys.stdin.readline\n\ndef readList():\n    return list(map(int, input().split()))\n\ndef readInt():\n    return int(input())\n\ndef readInts():\n    return map(int, input().split())\n\ndef readStr():\n    return input().strip()\n\ndef solve():\n    n = readInt()\n    arr = readList()\n    (mi, ma) = (min(arr), max(arr))\n    cnt1 = cnt2 = 0\n    for i in range(n):\n        if arr[i] == mi:\n            cnt1 += 1\n        elif arr[i] == ma:\n            cnt2 += 1\n    if mi == ma:\n        return cnt1 * (cnt1 - 1)\n    else:\n        return cnt1 * cnt2 * 2\nfor _ in range(int(input())):\n    print(solve())", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = min(l)\n    b = max(l)\n    if a != b:\n        x = l.count(a)\n        y = l.count(b)\n        print(2 * x * y)\n    else:\n        print(n * (n - 1))", "t = int(input(''))\nfor i in range(t):\n    n = int(input(''))\n    l = list(map(int, input('').split()))\n    a = max(l)\n    b = min(l)\n    if a != b:\n        c = l.count(a)\n        d = l.count(b)\n        print(2 * c * d)\n    else:\n        c = l.count(a)\n        print(n * (n - 1))", "t = int(input())\nfor tt in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    l = a.count(max(a))\n    s = a.count(min(a))\n    if l == n:\n        print(n * (n - 1))\n        continue\n    print(2 * l * s)", "testcase_no = int(input())\nfor _ in range(testcase_no):\n    n = int(input())\n    numbers = list(map(int, input().split()))\n    max_element = max(numbers)\n    min_element = min(numbers)\n    if max_element == min_element:\n        print(n * (n - 1))\n    else:\n        print(numbers.count(max_element) * numbers.count(min_element) * 2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = min(a)\n    M = max(a)\n    if m == M:\n        answer = n * (n - 1)\n    else:\n        cnt_min = 0\n        cnt_max = 0\n        for x in a:\n            if x == m:\n                cnt_min += 1\n            if x == M:\n                cnt_max += 1\n        answer = 2 * cnt_min * cnt_max\n    print(answer)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    mi = min(a)\n    ma = max(a)\n    if mi == ma:\n        print(n * (n - 1))\n    else:\n        print(a.count(mi) * a.count(ma) * 2)", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    cnt1 = arr.count(min(arr))\n    cnt2 = arr.count(max(arr))\n    if len(set(arr)) == 1:\n        print(n * (n - 1))\n    else:\n        print(cnt1 * cnt2 * 2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = max(a)\n    c = min(a)\n    e = a.count(b)\n    f = a.count(c)\n    if b == c:\n        print(n * (n - 1))\n    else:\n        print(e * f * 2)", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    maxx = max(arr)\n    minn = min(arr)\n    mcount = arr.count(maxx)\n    if maxx == minn:\n        print(mcount ** 2 - mcount)\n    else:\n        mincount = arr.count(minn)\n        for1 = mcount * 2\n        for_m = for1 * mincount\n        print(for_m)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    c_min = a.count(min(a))\n    c_max = a.count(max(a))\n    if min(a) != max(a):\n        print(c_min * c_max * 2)\n    else:\n        print(c_min * (c_min - 1))", "try:\n    for _ in range(int(input())):\n        n = int(input())\n        lst = list(map(int, input().split()))\n        mins = lst.count(min(lst))\n        maxs = lst.count(max(lst))\n        if min(lst) == max(lst):\n            print(mins * (maxs - 1))\n            continue\n        print(2 * mins * maxs)\nexcept Exception as e:\n    print(e)"]