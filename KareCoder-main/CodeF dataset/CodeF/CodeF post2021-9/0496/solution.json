["n = int(input())\nres = []\nplus = 0\nminus = 0\nrounds = []\ns = input()\nq = int(input())\nwhile q > 0:\n    x = input().split(' ')\n    (first, second) = (int(x[0]), int(x[1]))\n    rounds.append(sorted([first, second]))\n    q -= 1\nfor i in range(len(s)):\n    if s[i] == '+':\n        plus += 1\n    if s[i] == '-':\n        minus += 1\n(max1, min1) = (max(plus, minus), min(plus, minus))\nfor (min2, max2) in rounds:\n    if max1 == min1:\n        res.append('YES')\n        continue\n    if max2 == min2:\n        if max1 == min1:\n            res.append('YES')\n        else:\n            res.append('NO')\n        continue\n    c = max2 * min1 - max1 * min2\n    cur = c / (max2 - min2)\n    if cur - int(cur) == 0 and cur >= 0:\n        res.append('YES')\n    else:\n        res.append('NO')\nfor x in res:\n    print(x)", "n = int(input())\ns = input()\nq = int(input())\nnp = s.count('+')\nnm = s.count('-')\nfor _ in range(q):\n    (a, b) = map(int, input().split())\n    numerator = (nm - np) * b\n    denominator = a - b\n    if a == b:\n        r = np == nm\n    elif numerator % denominator != 0:\n        r = False\n    else:\n        r = -nm <= numerator // denominator <= np\n    print('YES' if r else 'NO')", "def fun(num_plus, num_minus, a, b):\n    if a == b:\n        return 'YES' if num_plus == num_minus else 'NO'\n    else:\n        r = a * (num_minus - num_plus) % (a - b)\n        if r == 0:\n            k = a * (num_minus - num_plus) // (a - b)\n            return 'YES' if k in range(-num_plus, num_minus + 1) else 'NO'\n        else:\n            return 'NO'\nn = int(input())\ns = input()\nq = int(input())\nnum_plus = sum([1 for i in s if i == '+'])\nnum_minus = n - num_plus\nfor i in range(q):\n    (a, b) = map(int, input().split())\n    print(fun(num_plus, num_minus, a, b))", "n = int(input())\ns = input()\nm = s.count('-')\np = s.count('+')\n(m, p) = (max(m, p), min(m, p))\nq = int(input())\nfor i in range(q):\n    (t1, t2) = (m, p)\n    (b1, b2) = map(int, input().split())\n    (b1, b2) = (min(b1, b2), max(b1, b2))\n    r = b1 * t1 - b2 * t2\n    t = 0\n    if r < 0:\n        if -r % (b2 - b1) == 0 and -r // (b2 - b1) <= t2:\n            r = 0\n    if r == 0:\n        print('YES')\n    else:\n        print('NO')", "n = int(input())\ns = input()\npl = s.count('+')\nmn = s.count('-')\nm = int(input())\nfor __ in range(m):\n    (a, b) = map(int, input().split())\n    abmax = max(a, b)\n    abmin = min(a, b)\n    if pl == mn:\n        print('YES')\n        continue\n    if pl < mn:\n        smax = pl * abmax - mn * abmin\n        diff_plus = abmax - abmin\n        if not diff_plus:\n            print('NO')\n            continue\n        if smax < 0:\n            print('NO')\n            continue\n        if smax == 0:\n            print('YES')\n            continue\n        if smax % diff_plus or smax < diff_plus:\n            print('NO')\n            continue\n        if smax // diff_plus <= n:\n            print('YES')\n            continue\n    else:\n        smax = pl * abmin - mn * abmax\n        diff_plus = abmin - abmax\n        if not diff_plus:\n            print('NO')\n            continue\n        if smax > 0:\n            print('NO')\n            continue\n        if smax == 0:\n            print('YES')\n            continue\n        smax = abs(smax)\n        diff_plus = abs(diff_plus)\n        if smax % diff_plus or smax < diff_plus:\n            print('NO')\n            continue\n        if smax // diff_plus <= n:\n            print('YES')\n            continue", "(n, s, t, pos, neg) = (int(input()), input(), int(input()), 0, 0)\nfor x in s:\n    if x == '+':\n        pos += 1\n    else:\n        neg += 1\nfor i in range(t):\n    (c, p) = map(int, input().split())\n    (x, y) = (min(c, p), max(c, p))\n    (high, low) = (y * pos - x * neg, x * pos - y * neg)\n    if low > 0 or high < 0:\n        print('NO')\n    elif low == 0 or high == 0:\n        print('YES')\n    elif y - x == 0:\n        print('NO')\n    elif high % (y - x) == 0:\n        print('YES')\n    else:\n        print('NO')", "from collections import Counter\nn = int(input())\ns = str(input())\ncnt = Counter(s)\np = cnt['+']\nm = cnt['-']\nq = int(input())\nfor i in range(0, q):\n    (a, b) = map(int, input().split())\n    if p == m:\n        print('YES')\n        continue\n    if a == b:\n        print('NO')\n        continue\n    if a < b:\n        (a, b) = (b, a)\n    if p * a - m * b == 0:\n        print('YES')\n        continue\n    if (p * a - m * b) % (a - b) == 0 and (p * a - m * b) / (a - b) <= n and ((p * a - m * b) / (a - b) >= 0):\n        print('YES')\n    else:\n        print('NO')", "n = int(input())\ns = input()\nm = s.count('-')\np = s.count('+')\n(m, p) = (max(m, p), min(m, p))\nq = int(input())\nfor i in range(q):\n    (t1, t2) = (m, p)\n    (b1, b2) = map(int, input().split())\n    (b1, b2) = (min(b1, b2), max(b1, b2))\n    r = b1 * t1 - b2 * t2\n    t = 0\n    if r < 0:\n        if -r % (b2 - b1) == 0 and -r // (b2 - b1) <= t2:\n            r = 0\n    if r == 0:\n        print('YES')\n    else:\n        print('NO')"]