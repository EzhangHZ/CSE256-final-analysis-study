["n = int(input())\npr = [i for i in range(n)]\na = [list(map(int, input().split())) for i in range(n)]\nfor e in a:\n    if e[0] == 2:\n        print(0)\n        quit()\nfor i in range(n):\n    for j in range(n - i):\n        if a[i][j] == 1:\n            for k in range(i + 1, i + j + 1):\n                pr[k] = pr[k - 1]\nd = [[0] * n for i in range(n)]\nd[0][0] = 2\nMOD = 998244353\nfor i in range(1, n):\n    ps = 0\n    for j in range(i + 1):\n        if a[j][i - j] == 2:\n            ps = j + 1\n    for j in range(ps, i):\n        d[i][j] = d[i - 1][j]\n    if pr[i] >= i:\n        d[i][i] = sum(d[i - 1]) % MOD\nprint(sum(d[n - 1]) % MOD)", "n = int(input())\nAmZx2 = [i for i in range(n)]\na = [list(map(int, input().split())) for i in range(n)]\nfor e in a:\n    if e[0] == 2:\n        print(0)\n        quit()\nfor i in range(n):\n    for j in range(n - i):\n        if a[i][j] == 1:\n            for k in range(i + 1, i + j + 1):\n                AmZx2[k] = AmZx2[k - 1]\nd = [[0] * n for i in range(n)]\nd[0][0] = 2\nAmZx = 998244353\nAchUbjbRr = 0\nfor i in range(1, n):\n    AmZx1 = 0\n    for j in range(i + 1):\n        if a[j][i - j] == 2:\n            AmZx1 = j + 1\n    for j in range(AmZx1, i):\n        d[i][j] = d[i - 1][j]\n    if AmZx2[i] >= i:\n        d[i][i] = sum(d[i - 1]) % AmZx\nprint(sum(d[n - 1]) % AmZx)", "mod = 998244353\n\ndef add(x, y):\n    return ((x + y) % mod + mod) % mod\n\ndef solve():\n    n = int(input())\n    a = [[0 for _ in range(n)] for _ in range(n)]\n    dp = [[0 for _ in range(n + 1)] for _ in range(n + 1)]\n    for j in range(n):\n        a[j][j:] = list(map(int, input().split()))\n    if a[0][0] != 2:\n        dp[1][0] = 2\n\n    def chk(curr, last):\n        for i in range(curr):\n            if a[i][curr - 1] == 0:\n                continue\n            if a[i][curr - 1] == 1 and i < last:\n                return False\n            if a[i][curr - 1] == 2 and i >= last:\n                return False\n        return True\n    for i in range(1, n):\n        for j in range(i):\n            for k in [i, j]:\n                if chk(i + 1, k):\n                    dp[i + 1][k] = add(dp[i + 1][k], dp[i][j])\n    ans = 0\n    for i in range(n):\n        ans = add(ans, dp[n][i])\n    print(ans)\nsolve()"]