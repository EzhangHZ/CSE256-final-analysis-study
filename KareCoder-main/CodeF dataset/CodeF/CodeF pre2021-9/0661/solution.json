["from math import gcd\n\ndef solve():\n    ans = 0\n    for i in range(n):\n        x = a[i]\n        y = a[i + 1]\n        c = 0\n        j = i + 1\n        while x != y:\n            x = gcd(x, a[j])\n            y = gcd(y, a[j + 1])\n            j += 1\n            c += 1\n        ans = max(ans, c)\n    return ans\nfor t in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    a += a\n    print(solve())", "import sys\nfrom math import gcd\nt = int(sys.stdin.readline())\nwhile t > 0:\n    n = int(input())\n    a = list(map(int, sys.stdin.readline().split()))\n    a = a + a\n    m = 0\n    for i in range(n):\n        x = a[i]\n        y = a[i + 1]\n        c = 0\n        j = i + 1\n        while x != y:\n            x = gcd(x, a[j])\n            y = gcd(y, a[j + 1])\n            j += 1\n            c += 1\n        m = max(m, c)\n    print(m)\n    t -= 1", "import sys\nfrom math import gcd\nt = int(sys.stdin.readline())\nwhile t > 0:\n    n = int(input())\n    a = list(map(int, sys.stdin.readline().split()))\n    a = a + a\n    m = 0\n    for i in range(n):\n        x = a[i]\n        y = a[i + 1]\n        c = 0\n        j = i + 1\n        while x != y:\n            x = gcd(x, a[j])\n            y = gcd(y, a[j + 1])\n            j += 1\n            c += 1\n        m = max(m, c)\n    print(m)\n    t -= 1", "import math\nt = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    (allthesame, gcd) = (1, a[0])\n    for j in range(n):\n        if a[j] != a[0]:\n            allthesame = 0\n        gcd = math.gcd(a[j], gcd)\n    if allthesame == 1:\n        print('0')\n        continue\n    (ans, seq) = (0, [])\n    for j in range(2 * n):\n        rj = j % n\n        seq2 = []\n        for k in range(len(seq)):\n            seq[k][0] = math.gcd(seq[k][0], a[rj])\n            if seq[k][0] == gcd:\n                ans = max(ans, seq[k][1] + 1)\n            else:\n                seq[k][1] = seq[k][1] + 1\n                if k == 0 or seq[k][0] != seq[k - 1][0]:\n                    seq2.append(seq[k])\n        if j < n:\n            if len(seq) == 0 or a[j] != seq[len(seq) - 1][0]:\n                seq2.append([a[j], 0])\n        seq = seq2\n    print(ans)"]