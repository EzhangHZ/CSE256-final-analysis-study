["for tests in range(int(input())):\n    n = int(input())\n    AA = [(1, i) for i in range((n + 2) // 2, n)] + [(i, n) for i in range((n + 2) // 2 - 1, 0, -1)]\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        print(y, x) if L[x - 1] == y else print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "for tests in range(int(input())):\n    n = int(input())\n    AA = [(1, i) for i in range((n + 2) // 2, n)] + [(i, n) for i in range((n + 2) // 2 - 1, 0, -1)]\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        print(y, x) if L[x - 1] == y else print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "import sys\ninput = sys.stdin.readline\nt = int(input())\nfor tests in range(t):\n    n = int(input())\n    AA = []\n    for i in range((n + 2) // 2, n):\n        AA.append((1, i))\n    for i in range((n + 2) // 2 - 1, 0, -1):\n        AA.append((i, n))\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        if L[x - 1] == y:\n            print(y, x)\n        else:\n            print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "import sys\ninput = sys.stdin.readline\nt = int(input())\nfor tests in range(t):\n    n = int(input())\n    AA = []\n    for i in range((n + 2) // 2, n):\n        AA.append((1, i))\n    for i in range((n + 2) // 2 - 1, 0, -1):\n        AA.append((i, n))\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        if L[x - 1] == y:\n            print(y, x)\n        else:\n            print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "import sys\ninput = sys.stdin.readline\nt = int(input())\nfor tests in range(t):\n    n = int(input())\n    AA = []\n    for i in range((n + 2) // 2, n):\n        AA.append((1, i))\n    for i in range((n + 2) // 2 - 1, 0, -1):\n        AA.append((i, n))\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        if L[x - 1] == y:\n            print(y, x)\n        else:\n            print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "t = int(input())\nfor tests in range(t):\n    n = int(input())\n    AA = []\n    for i in range((n + 2) // 2, n):\n        AA.append((1, i))\n    for i in range((n + 2) // 2 - 1, 0, -1):\n        AA.append((i, n))\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        if L[x - 1] == y:\n            print(y, x)\n        else:\n            print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "for tests in range(int(input())):\n    n = int(input())\n    AA = [(1, i) for i in range((n + 2) // 2, n)] + [(i, n) for i in range((n + 2) // 2 - 1, 0, -1)]\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        print(y, x) if L[x - 1] == y else print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])", "for tests in range(int(input())):\n    n = int(input())\n    AA = []\n    for i in range((n + 2) // 2, n):\n        AA.append((1, i))\n    for i in range((n + 2) // 2 - 1, 0, -1):\n        AA.append((i, n))\n    L = list(range(1, n + 1))\n    sc = 0\n    for (x, y) in AA[::-1]:\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])\n        sc += (x - y) ** 2\n    print(sc)\n    print(*L)\n    print(len(AA))\n    for (x, y) in AA:\n        print(y, x) if L[x - 1] == y else print(x, y)\n        (L[x - 1], L[y - 1]) = (L[y - 1], L[x - 1])"]