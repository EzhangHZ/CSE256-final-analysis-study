["import sys\ninput = sys.stdin.readline\nfor f in range(int(input())):\n    (n, m) = map(int, input().split())\n    neig = [0] * n\n    for i in range(n):\n        neig[i] = [0]\n    for i in range(m):\n        (a, b) = map(int, input().split())\n        a -= 1\n        b -= 1\n        neig[a][0] += 1\n        neig[a].append(b)\n    lev = [1] * n\n    for i in range(n):\n        for j in range(1, neig[i][0] + 1):\n            x = lev[i] + 1\n            if x == 4:\n                x = 1\n            lev[neig[i][j]] = max(lev[neig[i][j]], x)\n    sol = 0\n    s = []\n    for i in range(n):\n        if lev[i] == 3:\n            sol += 1\n            s.append(i + 1)\n    print(sol)\n    print(*s)", "import sys\ninput = sys.stdin.readline\nfor f in range(int(input())):\n    (n, m) = map(int, input().split())\n    neig = [0] * n\n    for i in range(n):\n        neig[i] = [0]\n    for i in range(m):\n        (a, b) = map(int, input().split())\n        a -= 1\n        b -= 1\n        neig[a][0] += 1\n        neig[a].append(b)\n    lev = [1] * n\n    for i in range(n):\n        for j in range(1, neig[i][0] + 1):\n            x = lev[i] + 1\n            if x == 4:\n                x = 1\n            lev[neig[i][j]] = max(lev[neig[i][j]], x)\n    sol = 0\n    s = []\n    for i in range(n):\n        if lev[i] == 3:\n            sol += 1\n            s.append(i + 1)\n    print(sol)\n    print(*s)"]