["from math import factorial\n(n, mod) = map(int, input().split())\n\ndef binom(n, m):\n    return factorial(n) // factorial(m) // factorial(n - m)\n\ndef foo(x, k):\n    ans = 0\n    for i in range(k, 0, -1):\n        sign = 1 if (i - k) % 2 == 0 else -1\n        ans += sign * binom(k, i) * i ** x\n        ans %= mod\n    return ans\n\ndef f(x, k):\n    return foo(x, k) * pow(2, x - k, mod) % mod\nans = 0\nfor i in range((n + 1) // 2):\n    ans = ans + f(n - i, i + 1)\n    ans %= mod\nprint(ans)", "from sys import stdin\nfrom math import factorial\n(n, mod) = map(int, stdin.readline().split())\n\ndef binom(n, m):\n    return factorial(n) // factorial(m) // factorial(n - m)\n\ndef foo(x, k):\n    ans = 0\n    for i in range(k, 0, -1):\n        sign = 1 if (i - k) % 2 == 0 else -1\n        ans += sign * binom(k, i) * i ** x\n        ans %= mod\n    return ans\n\ndef f(x, k):\n    return foo(x, k) * pow(2, x - k, mod) % mod\nans = 0\nfor i in range((n + 1) // 2):\n    ans = ans + f(n - i, i + 1)\n    ans %= mod\nprint(ans)"]