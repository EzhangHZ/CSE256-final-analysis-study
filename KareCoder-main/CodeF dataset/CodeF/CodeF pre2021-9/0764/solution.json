["def solve(lsts):\n    points = []\n    for i in range(len(lsts)):\n        points.append((lst[i][0], 0, i))\n        points.append((lst[i][1], 1, i))\n    points.sort()\n    open = set()\n    increased = [0] * len(lsts)\n    original = 0\n    for i in range(len(points)):\n        p = points[i]\n        if p[1] == 0:\n            open.add(p[2])\n        else:\n            open.remove(p[2])\n        if len(open) == 1 and p[1] == 1 and (points[i + 1][1] == 0):\n            increased[list(open)[0]] += 1\n        if len(open) == 1 and p[1] == 0 and (points[i + 1][1] == 1):\n            increased[list(open)[0]] -= 1\n        if len(open) == 0:\n            original += 1\n    res = -float('inf')\n    for i in range(len(lsts)):\n        res = max(res, increased[i])\n    return res + original\nn = int(input())\nfor _ in range(n):\n    m = int(input())\n    lst = []\n    for _ in range(m):\n        lst.append(list(map(int, input().split())))\n    print(solve(lst))"]