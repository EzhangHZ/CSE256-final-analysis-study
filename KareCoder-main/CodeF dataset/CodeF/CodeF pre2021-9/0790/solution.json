["def sv():\n    N = int(input())\n    lf = [False] * N\n    mt = [False] * N\n    for n in range(N):\n        (a, b) = map(int, input().split())\n        sp = False\n        if a > N:\n            (a, b) = (b, a)\n            sp = True\n        if a > N or b <= N:\n            return -1\n        a -= 1\n        b = 2 * N - b\n        lf[a] = b\n        if sp:\n            mt[a] = True\n    g0 = -1\n    g1 = -1\n    gm = -1\n    cc = 0\n    cs = 0\n    ans = 0\n    for n in range(N):\n        cc += 1\n        if lf[n] > g0 and (g0 >= g1 or lf[n] <= g1):\n            g0 = lf[n]\n            if mt[n]:\n                cs += 1\n        elif lf[n] > g1:\n            g1 = lf[n]\n            if not mt[n]:\n                cs += 1\n        else:\n            return -1\n        gm = max(gm, lf[n])\n        if gm == n:\n            ans += min(cs, cc - cs)\n            cc = 0\n            cs = 0\n            g0 = n\n            g1 = n\n    return ans\nprint(sv())"]