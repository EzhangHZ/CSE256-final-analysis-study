["def f(l, a):\n    (i, count) = (0, 0)\n    for x in l:\n        count += x not in a[i]\n        i = (i + 1) % 2\n    return count\n\ndef g(l, mx):\n    return min([f(l, mx[i]) for i in range(len(mx))])\n\ndef two():\n    l = [x[0] + x[1] for x in zip(input(), input())]\n    mx = ([['00', '11'], ['10', '01']], [['10', '01'], ['00', '11']])\n    return g(l, mx)\n\ndef three():\n    l = [x[0] + x[1] + x[2] for x in zip(input(), input(), input())]\n    mx = ([['100', '011'], ['110', '001']], [['110', '001'], ['100', '011']], [['111', '000'], ['010', '101']], [['010', '101'], ['000', '111']])\n    return g(l, mx)\nnm = input()\n(n, m) = [int(x) for x in nm.split()]\nif n == 1:\n    print(0)\n    exit()\nif n > 3:\n    print(-1)\n    exit()\nif n == 2:\n    print(two())\n    exit()\nif n == 3:\n    print(three())\n    exit()", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    rez = min(r1, r2)\n    print(rez)\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        o2 = int(mx[1][i] != mx[2][i])\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    rez = min(min(r1, r2), min(r3, r4))\n    print(rez)", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    print(min(r1, r2))\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        o2 = int(mx[1][i] != mx[2][i])\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    rez = min(min(r1, r2), min(r3, r4))\n    print(rez)", "(n, m) = map(int, input().split())\nif n > 3:\n    print(-1)\nelif n == 1:\n    print(0)\nelse:\n    l = []\n    for i in range(n):\n        temp = list(map(int, list(input())))\n        l.append(temp)\n    if n == 2:\n        A = l[:]\n        BU = [(A[0][i] + A[1][i]) % 2 for i in range(m)]\n        odd = 0\n        even = 0\n        for i in range(m):\n            if BU[i] % 2 == i % 2:\n                odd += 1\n            else:\n                even += 1\n        print(min(even, odd))\n    else:\n        newLU = []\n        newLD = []\n        ans = 0\n        A = l[:]\n        BU = [(A[0][i] + A[1][i]) % 2 for i in range(m)]\n        BD = [(A[1][i] + A[2][i]) % 2 for i in range(m)]\n        oddodd = 0\n        oddeven = 0\n        evenodd = 0\n        eveneven = 0\n        for i in range(m):\n            if BU[i] == i % 2:\n                oddeven += 1\n                oddodd += 1\n            else:\n                eveneven += 1\n                evenodd += 1\n            if BD[i] == i % 2:\n                if BU[i] == i % 2:\n                    evenodd += 1\n                else:\n                    oddodd += 1\n            elif BU[i] == i % 2:\n                eveneven += 1\n            else:\n                oddeven += 1\n        print(min([oddodd, oddeven, evenodd, eveneven]))", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    (s1, s2) = (s[:m], s[1:m + 1])\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    print(min(r1, r2))\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        (o1, o2) = (int(mx[0][i] != mx[1][i]), int(mx[1][i] != mx[2][i]))\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    print(min(min(r1, r2), min(r3, r4)))", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    (s1, s2) = (s[:m], s[1:m + 1])\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    print(min(r1, r2))\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        (o1, o2) = (int(mx[0][i] != mx[1][i]), int(mx[1][i] != mx[2][i]))\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    print(min(min(r1, r2), min(r3, r4)))", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    (s1, s2) = (s[:m], s[1:m + 1])\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    print(min(r1, r2))\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        (o1, o2) = (int(mx[0][i] != mx[1][i]), int(mx[1][i] != mx[2][i]))\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    print(min(min(r1, r2), min(r3, r4)))", "raw = input()\n(n, m) = map(int, raw.split(' '))\nmx = []\nfor ri in range(n):\n    mx += [input()]\nif n >= 4:\n    print(-1)\nif n == 1:\n    print(0)\nif n == 2:\n    p = m // 2\n    s = 'AB' * (p + 2)\n    (s1, s2) = (s[:m], s[1:m + 1])\n    (r1, r2) = (0, 0)\n    for i in range(m):\n        o1 = int(mx[0][i] != mx[1][i])\n        letter = 'AB'[o1]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n    print(min(r1, r2))\nif n == 3:\n    p = m // 2\n    s = 'AD' * (p + 2)\n    s1 = s[:m]\n    s2 = s[1:m + 1]\n    s = 'BC' * (p + 2)\n    s3 = s[:m]\n    s4 = s[1:m + 1]\n    (r1, r2, r3, r4) = (0, 0, 0, 0)\n    for i in range(m):\n        (o1, o2) = (int(mx[0][i] != mx[1][i]), int(mx[1][i] != mx[2][i]))\n        letter = 'ABCD'[o1 * 2 + o2]\n        if letter != s1[i]:\n            r1 += 1\n        if letter != s2[i]:\n            r2 += 1\n        if letter != s3[i]:\n            r3 += 1\n        if letter != s4[i]:\n            r4 += 1\n    print(min(min(r1, r2), min(r3, r4)))", "(n, m) = map(int, input().split())\nif n > 3:\n    print(-1)\nelif n == 1:\n    print(0)\nelse:\n    l = []\n    for i in range(n):\n        temp = list(map(int, list(input())))\n        l.append(temp)\n    if n == 2:\n        A = l[:]\n        BU = [(A[0][i] + A[1][i]) % 2 for i in range(m)]\n        odd = 0\n        even = 0\n        for i in range(m):\n            if BU[i] % 2 == i % 2:\n                odd += 1\n            else:\n                even += 1\n        print(min(even, odd))\n    else:\n        newLU = []\n        newLD = []\n        ans = 0\n        A = l[:]\n        BU = [(A[0][i] + A[1][i]) % 2 for i in range(m)]\n        BD = [(A[1][i] + A[2][i]) % 2 for i in range(m)]\n        oddodd = 0\n        oddeven = 0\n        evenodd = 0\n        eveneven = 0\n        for i in range(m):\n            if BU[i] == i % 2 and BD[i] == i % 2:\n                oddodd += 1\n            if BU[i] != i % 2 and BD[i] == i % 2:\n                evenodd += 1\n            if BU[i] != i % 2 and BD[i] != i % 2:\n                eveneven += 1\n            if BU[i] == i % 2 and BD[i] != i % 2:\n                oddeven += 1\n        print(m - max([oddodd, oddeven, evenodd, eveneven]))"]