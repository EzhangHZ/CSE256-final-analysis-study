["import sys\ninput = lambda : sys.stdin.readline().rstrip()\nT = int(input())\nfor _ in range(T):\n    N = int(input())\n    X = [[a for a in input()] for _ in range(N)]\n    C = [0] * 3\n    D = [0] * 3\n    for i in range(N):\n        Xi = X[i]\n        for j in range(N):\n            if Xi[j] == 'X':\n                C[(i + j) % 3] += 1\n            elif Xi[j] == 'O':\n                D[(i + j) % 3] += 1\n    (aaa, bbb) = (0, 0)\n    f = 0\n    for k in range(3):\n        for l in range(3):\n            if k == l:\n                continue\n            if C[k] + D[l] <= (sum(C) + sum(D)) // 3:\n                for i in range(N):\n                    Xi = X[i]\n                    for j in range(N):\n                        if (i + j) % 3 == k:\n                            if Xi[j] == 'X':\n                                Xi[j] = 'O'\n                                aaa += 1\n                        elif (i + j) % 3 == l:\n                            if Xi[j] == 'O':\n                                Xi[j] = 'X'\n                                bbb += 1\n                f = 1\n                break\n        if f:\n            break\n    for x in X:\n        print(''.join(x))", "for _ in range(int(input())):\n    N = int(input())\n    X = [[a for a in input()] for _ in range(N)]\n    C = [0] * 3\n    D = [0] * 3\n    (aaa, bbb) = (0, 0)\n    f = 0\n    for i in range(N):\n        Xi = X[i]\n        for j in range(N):\n            if Xi[j] == 'X':\n                C[(i + j) % 3] += 1\n            elif Xi[j] == 'O':\n                D[(i + j) % 3] += 1\n    for k in range(3):\n        for l in range(3):\n            if k == l:\n                continue\n            if C[k] + D[l] <= (sum(C) + sum(D)) // 3:\n                for i in range(N):\n                    Xi = X[i]\n                    for j in range(N):\n                        if (i + j) % 3 == k:\n                            if Xi[j] == 'X':\n                                Xi[j] = 'O'\n                                aaa += 1\n                        elif (i + j) % 3 == l:\n                            if Xi[j] == 'O':\n                                Xi[j] = 'X'\n                                bbb += 1\n                f = 1\n                break\n        if f:\n            break\n    for x in X:\n        print(''.join(x))", "T = int(input())\nfor _ in range(T):\n    N = int(input())\n    X = [[a for a in input()] for _ in range(N)]\n    C = [0] * 3\n    D = [0] * 3\n    for i in range(N):\n        Xi = X[i]\n        for j in range(N):\n            if Xi[j] == 'X':\n                C[(i + j) % 3] += 1\n            elif Xi[j] == 'O':\n                D[(i + j) % 3] += 1\n    (aaa, bbb) = (0, 0)\n    f = 0\n    for k in range(3):\n        for l in range(3):\n            if k == l:\n                continue\n            if C[k] + D[l] <= (sum(C) + sum(D)) // 3:\n                for i in range(N):\n                    Xi = X[i]\n                    for j in range(N):\n                        if (i + j) % 3 == k:\n                            if Xi[j] == 'X':\n                                Xi[j] = 'O'\n                                aaa += 1\n                        elif (i + j) % 3 == l:\n                            if Xi[j] == 'O':\n                                Xi[j] = 'X'\n                                bbb += 1\n                f = 1\n                break\n        if f:\n            break\n    for x in X:\n        print(''.join(x))"]