["n = int(input())\nb = [int(_) for _ in input().split()]\ne = [[-1] * (n + 1) for _ in range(2024)]\nd = [[] for _ in range(n)]\nfor (i, v) in enumerate(b):\n    e[v][i] = i\n    d[i].append(i)\nfor v in range(1, 2024):\n    for i in range(n):\n        j = e[v][i]\n        h = e[v][j + 1] if j != -1 else -1\n        if j != -1 and h != -1:\n            e[v + 1][i] = h\n            d[i].append(h)\na = [_ for _ in range(1, n + 1)]\nfor s in range(n):\n    for e in d[s]:\n        a[e] = min(a[e], a[s - 1] + 1 if s > 0 else 1)\nprint(a[n - 1])", "n = int(input())\nb = [int(_) for _ in input().split()]\ne = [[-1] * (n + 1) for _ in range(2024)]\nd = [[] for _ in range(n)]\nfor (j, v) in enumerate(b):\n    e[v][j] = j\n    d[j].append(j)\nfor v in range(1, 2024):\n    for i in range(n):\n        j = e[v][i]\n        h = e[v][j + 1] if j != -1 else -1\n        if j != -1 and h != -1:\n            e[v + 1][i] = h\n            d[i].append(h)\na = [_ for _ in range(1, n + 1)]\nfor s in range(n):\n    for e in d[s]:\n        a[e] = min(a[e], a[s - 1] + 1 if s > 0 else 1)\nprint(a[n - 1])", "n = int(input())\nb = [int(_) for _ in input().split()]\ne = [[-1] * (n + 1) for _ in range(2024)]\nd = [[] for _ in range(n)]\nfor (i, v) in enumerate(b):\n    e[v][i] = i\n    d[i].append(i)\nfor v in range(1, 2024):\n    for i in range(n):\n        j = e[v][i]\n        h = e[v][j + 1] if j != -1 else -1\n        if j != -1 and h != -1:\n            e[v + 1][i] = h\n            d[i].append(h)\na = [_ for _ in range(1, n + 1)]\nfor s in range(n):\n    for e in d[s]:\n        a[e] = min(a[e], a[s - 1] + 1 if s > 0 else 1)\nprint(a[n - 1])", "n = int(input())\nb = [int(_) for _ in input().split()]\ne = [[-1] * (n + 1) for _ in range(2024)]\nd = [[] for _ in range(n)]\nfor (i, v) in enumerate(b):\n    e[v][i] = i\n    d[i].append(i)\nfor v in range(1, 2024):\n    for i in range(n):\n        j = e[v][i]\n        h = e[v][j + 1] if j != -1 else -1\n        if j != -1 and h != -1:\n            e[v + 1][i] = h\n            d[i].append(h)\na = [_ for _ in range(1, n + 1)]\nfor s in range(n):\n    for e in d[s]:\n        a[e] = min(a[e], a[s - 1] + 1 if s > 0 else 1)\nprint(a[n - 1])", "n = int(input())\nb = [int(_) for _ in input().split()]\ne = [[-1] * (n + 1) for _ in range(3024)]\nd = [[] for _ in range(n)]\nfor (i, v) in enumerate(b):\n    e[v][i] = i\n    d[i].append(i)\nfor v in range(1, 3024):\n    for i in range(n):\n        j = e[v][i]\n        h = e[v][j + 1] if j != -1 else -1\n        if j != -1 and h != -1:\n            e[v + 1][i] = h\n            d[i].append(h)\na = [_ for _ in range(1, n + 1)]\nfor s in range(n):\n    for e in d[s]:\n        a[e] = min(a[e], a[s - 1] + 1 if s > 0 else 1)\nprint(a[n - 1])"]