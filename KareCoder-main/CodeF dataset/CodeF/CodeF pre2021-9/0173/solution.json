["t = int(input())\nfor _ in range(t):\n    i = int(input())\n    l = list(map(int, input().split()))\n    t = sorted(l)\n    if t == l:\n        print(0)\n    elif l[0] == t[0] or l[-1] == t[-1]:\n        print(1)\n    elif l[0] == t[-1] and l[-1] == t[0]:\n        print(3)\n    else:\n        print(2)", "import sys\ninput = sys.stdin.readline\n\ndef solve():\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if arr == [i for i in range(1, n + 1)]:\n        return 0\n    elif arr[0] == 1:\n        return 1\n    elif arr[-1] == n:\n        return 1\n    else:\n        return 3 if arr[0] == n and arr[-1] == 1 else 2\nfor _ in range(int(input())):\n    print(solve())", "for s in [*open(0)][2::2]:\n    a = (x, *_, y) = [*map(int, s.split())]\n    print((sorted(a) < a) + ((x, y) == ((n := len(a)), 1)) + (x > 1 <= n - y))", "for s in [*open(0)][2::2]:\n    a = (x, *_, y) = [*map(int, s.split())]\n    print((sorted(a) < a) + ((x, y) == ((n := len(a)), 1)) + (x > 1 <= n - y))", "def insort(l):\n    for i in range(len(l) - 1):\n        if l[i] > l[i + 1]:\n            return False\n    return True\n\ndef main():\n    import sys\n    input = sys.stdin.readline\n    for _ in range(int(input())):\n        n = int(input())\n        lt = list(map(int, input().split()))\n        if insort(lt):\n            print(0)\n        elif lt[0] == 1 or lt[-1] == n:\n            print(1)\n        elif lt[0] == n and lt[-1] == 1:\n            print(3)\n        else:\n            print(2)\nmain()", "for s in [*open(0)][2::2]:\n    a = (x, *_, y) = [*map(int, s.split())]\n    print((sorted(a) < a) + ((x, y) == ((n := len(a)), 1)) + (x > 1 <= n - y))", "import sys\ninput = sys.stdin.readline\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().rstrip().split(' ')))\n    c = 0\n    for i in range(n):\n        if a[i] != i + 1:\n            if a[0] == 1 or a[-1] == n:\n                c = 1\n            elif a[0] == n and a[-1] == 1:\n                c = 3\n            else:\n                c = 2\n            break\n    print(c)", "import sys\nfrom math import gcd\ninput = sys.stdin.readline\nt = int(input())\nwhile t > 0:\n    n = int(input())\n    a = [*map(int, input().split())]\n    b = sorted(a)\n    if a == b:\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)\n    t -= 1", "for s in [*open(0)][2::2]:\n    a = (x, *_, y) = [*map(int, s.split())]\n    print((sorted(a) < a) + ((x, y) == ((n := len(a)), 1)) + (x > 1 <= n - y))", "for _ in range(int(input())):\n    n = int(input())\n    l = [int(i) for i in input().split()]\n    if l == sorted(l):\n        print(0)\n    elif l[0] == 1 or l[n - 1] == n:\n        print(1)\n    elif l[0] == n and l[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "def solve():\n    n = int(input())\n    a = list(map(int, input().split()))\n    mn = a.index(min(a))\n    mx = a.index(max(a))\n    b = sorted(a)\n    if a == b:\n        print('0')\n    elif mn == n - 1 and mx == 0:\n        print('3')\n    elif mn == 0 or mx == n - 1:\n        print('1')\n    else:\n        print('2')\nt = int(input())\nwhile t:\n    solve()\n    t -= 1", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    flag = 0\n    for i in range(n - 1):\n        if a[i] > a[i + 1]:\n            flag = 1\n            break\n    else:\n        print(0)\n    if flag:\n        if a[0] == n and a[-1] == 1:\n            print(3)\n        elif a[0] == 1 or a[-1] == n:\n            print(1)\n        else:\n            print(2)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().strip().split()))\n    b = sorted(a)\n    if a == b:\n        print(0)\n    elif a == b[::-1]:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nwhile t:\n    t -= 1\n    n = int(input())\n    num = list(map(int, input().split()))\n    is_sorted = True\n    for i in range(n - 1):\n        if num[i] > num[i + 1]:\n            is_sorted = False\n            break\n    if is_sorted == True:\n        print(0)\n    elif num[0] == 1 or num[n - 1] == n:\n        print(1)\n    elif num[0] == n and num[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split(' ')))\n    if l[0] == 1 and l[-1] == n:\n        flag = True\n        for i in range(1, n - 1):\n            if l[i] != i + 1:\n                flag = False\n                break\n        if flag == False:\n            print(1)\n            continue\n        else:\n            print(0)\n            continue\n    elif l[0] == 1 or l[-1] == n:\n        print(1)\n        continue\n    elif l[0] == n and l[-1] == 1:\n        print(3)\n        continue\n    else:\n        print(2)", "w = int(input())\nfor i in range(w):\n    k = int(input())\n    t = list(map(int, input().split()))\n    b = list(t)\n    y = list(t)\n    y.sort(reverse=True)\n    b.sort()\n    if b == t:\n        print(0)\n    elif b[0] == t[0] or b[-1] == t[-1]:\n        print(1)\n    elif y[0] == t[0] and y[-1] == t[-1]:\n        print(3)\n    else:\n        print(2)", "from collections import Counter\nfrom itertools import accumulate, product, groupby\nimport operator\nimport math\nfrom functools import reduce\n\ndef solve():\n    n = int(input())\n    arr = [int(char) for char in input().split()]\n    sorted_arr = sorted(arr)\n    if arr == sorted_arr:\n        return 0\n    elif arr[0] == sorted_arr[0] or arr[-1] == sorted_arr[-1]:\n        return 1\n    elif arr[0] == sorted_arr[-1] and arr[-1] == sorted_arr[0]:\n        return 3\n    else:\n        return 2\nfor _ in range(int(input())):\n    print(solve())", "for kjdj in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = [i for i in range(1, n + 1)]\n    if a == b:\n        print(0)\n        continue\n    if a[0] == 1 or a[-1] == n:\n        print(1)\n        continue\n    if a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "import math\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        print(case())\n\ndef case():\n    n = int(input())\n    a = list(map(int, input().split()))\n    if a == sorted(a):\n        return 0\n    if a[0] == 1 or a[-1] == n:\n        return 1\n    if a[0] == n and a[-1] == 1:\n        return 3\n    return 2\nmain()", "t = int(input())\nfor i in range(t):\n    a = int(input())\n    b = list(map(int, input().split()))\n    c = sorted(b)\n    if b == c:\n        print(0)\n    elif b[0] == len(b) and b[-1] == 1:\n        print(3)\n    elif b[0] != 1 and b[-1] != len(b):\n        print(2)\n    else:\n        print(1)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    else:\n        print(2)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    else:\n        print(2)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    else:\n        print(2)", "t = int(input())\nfor j in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    lo = a.index(min(a))\n    hi = a.index(max(a))\n    if lo == n - 1 and hi == 0:\n        print(3)\n    elif lo != 0 and hi != n - 1:\n        print(2)\n    elif lo == 0 and hi != n - 1:\n        print(1)\n    elif lo != 0 and hi == n - 1:\n        print(1)\n    else:\n        b = list(set(a))\n        if a == b:\n            print(0)\n        else:\n            print(1)", "tc = int(input())\nfor i in range(tc):\n    x = int(input())\n    y = list(map(int, input().split()))\n    z = y.copy()\n    z.sort()\n    if y == z:\n        print(0)\n    elif y[0] == x and y[-1] == 1:\n        print(3)\n    elif y[0] == 1 or y[-1] == x:\n        print(1)\n    else:\n        print(2)", "t = int(input())\nwhile t:\n    n = int(input())\n    arr = list(map(int, input().split()))\n    x = [i for i in arr]\n    x.sort()\n    if x == arr:\n        print(0)\n    elif arr[0] == 1 or arr[n - 1] == n:\n        print(1)\n    elif arr[0] == n and arr[n - 1] == 1:\n        print(3)\n    else:\n        print(2)\n    t -= 1", "for _ in range(int(input())):\n    n = int(input())\n    w = list(map(int, input().split()))\n    s = sorted(w)\n    if w[0] == s[-1] and w[-1] == s[0]:\n        print(3)\n    elif w[0] == s[0] and w[-1] == s[-1]:\n        c = 0\n        for i in range(n):\n            if w[i] == s[i]:\n                c += 1\n        if c == n:\n            print(0)\n        else:\n            print(1)\n    elif w[0] == s[0] and w[-1] != s[-1] or (w[0] != s[0] and w[-1] == s[-1]):\n        print(1)\n    else:\n        print(2)", "t = int(input())\nfor test in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    temp = sorted(arr)\n    if temp == arr:\n        print(0)\n    elif arr[0] == 1 or arr[-1] == temp[-1]:\n        print(1)\n    elif arr[-1] == 1 and n > 2:\n        if arr[0] == n:\n            print(3)\n        else:\n            print(2)\n    else:\n        print(2)", "for s in [*open(0)][2::2]:\n    a = (x, *_, y) = [*map(int, s.split())]\n    print((sorted(a) < a) + ((x, y) == ((n := len(a)), 1)) + (x > 1 <= n - y))", "def func(a, n):\n    a = tuple(map(int, a.split()[:n]))\n    m = max(a)\n    mn = min(a)\n\n    def check(lst):\n        for i in range(len(lst) - 1):\n            if lst[i] > lst[i + 1]:\n                return False\n        return True\n    c1 = check(a[:-1])\n    c2 = check(a[1:])\n    c3 = a[0] == mn\n    if a[-1] == m:\n        if c1:\n            res = 0\n        else:\n            res = 1\n    elif a[0] == m:\n        if c2:\n            res = 2\n        else:\n            res = 2 + int(a[-1] == mn)\n    elif a[0] > a[-1]:\n        res = 2\n    else:\n        res = 2 - c3\n    return res\nfor _ in range(int(input())):\n    n = int(input())\n    a = input()\n    print(func(a, n))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    count = 0\n    for j in range(n):\n        if a[j] != j + 1:\n            count = 1\n    if a[0] != 1 and a[n - 1] != n:\n        count += 1\n    if a[0] == n and a[n - 1] == 1:\n        count += 1\n    print(count)", "for p in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    if a == sorted(a):\n        print(0)\n    elif a[0] == 1 and a[-1] == n:\n        print(1)\n    elif a[0] == 1:\n        print(1)\n    elif a[-1] == n:\n        print(1)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    cnt = 0\n    f = True\n    for i in range(n - 1):\n        if arr[i] > arr[i + 1]:\n            f = False\n            break\n    if f:\n        print(0)\n    elif arr[0] == 1 or arr[n - 1] == n:\n        print(1)\n    elif arr[0] == n and arr[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = a\n    b = sorted(b)\n    count = 2\n    if b == a:\n        count = 0\n    elif a[0] == 1 or a[n - 1] == n:\n        count = 1\n    elif a[0] == n and a[n - 1] == 1:\n        count = 3\n    print(count)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    if sorted(l) == l:\n        print(0)\n    elif l[0] == max(l) and l[-1] == min(l):\n        print(3)\n    elif l[0] == min(l) or l[-1] == max(l):\n        print(1)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    A = list(map(int, input().split()))\n    B = sorted(A)\n    if A == B:\n        print(0)\n    elif A[0] == B[0] or A[-1] == B[-1]:\n        print(1)\n    elif A[0] == B[-1] and A[-1] == B[0]:\n        print(3)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    A = list(map(int, input().split()))\n    B = sorted(A)\n    if A == B:\n        print(0)\n    elif A[0] == B[0] or A[-1] == B[-1]:\n        print(1)\n    elif A[0] == B[-1] and A[-1] == B[0]:\n        print(3)\n    else:\n        print(2)", "from sys import stdin, stdout\n\ndef arrin():\n    return list(map(int, stdin.readline().split()))\n\ndef num1in():\n    return int(stdin.readline())\n\ndef num2in():\n    (a, b) = map(int, stdin.readline().split())\n    return (a, b)\n\ndef num3in():\n    (a, b, c) = map(int, stdin.readline().split())\n    return (a, b, c)\n\ndef num4in():\n    (a, b, c, d) = map(int, stdin.readline().split())\n    return (a, b, c, d)\n\ndef num5in():\n    (a, b, c, d, e) = map(int, stdin.readline().split())\n    return (a, b, c, d, e)\n\ndef gcd(a, b):\n    while b > 0:\n        temp = b\n        b = a % b\n        a = temp\n    return a\nt = num1in()\nfor test in range(t):\n    n = num1in()\n    arr = arrin()\n    tog = 0\n    for i in range(n):\n        if arr[i] != i + 1:\n            tog = 1\n            break\n    if tog == 0:\n        print(0)\n    elif arr[0] == 1 and tog == 1:\n        print(1)\n    elif arr[-1] == n and tog == 1:\n        print(1)\n    elif arr[0] == n and arr[-1] == 1:\n        print(3)\n    else:\n        print(2)", "def isSorted(ll):\n    for i in range(1, n):\n        if ll[i] < ll[i - 1]:\n            return False\n    return True\nout = []\nfor _ in range(int(input())):\n    n = int(input())\n    data = list(map(int, input().split(' ')))\n    if isSorted(data):\n        out.append('0')\n    elif data[0] == 1 or data[n - 1] == n:\n        out.append('1')\n    elif data[0] == n and data[n - 1] == 1:\n        out.append('3')\n    else:\n        out.append('2')\nprint('\\n'.join(out))", "import sys\nsys.setrecursionlimit(10 ** 6)\n\ndef II():\n    return int(sys.stdin.readline())\n\ndef LI():\n    return list(map(int, sys.stdin.readline().split()))\n\ndef LC():\n    return list(input())\n\ndef IC():\n    return [int(c) for c in input()]\n\ndef MI():\n    return map(int, sys.stdin.readline().split())\nINF = float('inf')\nMOD = 10 ** 9 + 7\n\ndef solve():\n    T = II()\n    for t in range(T):\n        N = II()\n        A = LI()\n        Asort = sorted(A)\n        if Asort == A:\n            print(0)\n        elif A[0] == 1 or A[-1] == N:\n            print(1)\n        elif A[0] == N and A[-1] == 1:\n            print(3)\n        else:\n            print(2)\n    return\nsolve()", "import sys\nsys.setrecursionlimit(10 ** 6)\n\ndef II():\n    return int(sys.stdin.readline())\n\ndef LI():\n    return list(map(int, sys.stdin.readline().split()))\nINF = float('inf')\nMOD = 10 ** 9 + 7\n\ndef solve():\n    t: int = II()\n    for t in range(t):\n        n: int = II()\n        a: list[int] = LI()\n        asort = sorted(a)\n        if asort == a:\n            print(0)\n        elif a[0] == 1 or a[-1] == n:\n            print(1)\n        elif a[0] == n and a[-1] == 1:\n            print(3)\n        else:\n            print(2)\n    return\nsolve()", "t = int(input().strip())\nfor l in range(t):\n    n = int(input().strip())\n    perm = list(map(int, input().split()))\n    sorted_arr = [i for i in range(1, n + 1)]\n    if perm == sorted_arr:\n        print('0')\n    elif perm[0] == 1 or perm[-1] == n:\n        print('1')\n    elif perm[0] == n and perm[-1] == 1:\n        print('3')\n    else:\n        print('2')", "t = int(input())\nfrom sys import stdin, stdout\nfor _ in range(t):\n    n = int(input())\n    map1 = map(int, stdin.readline().rstrip().split())\n    arr = list(map1)\n    if arr == sorted(arr):\n        print(0)\n    elif arr[0] == 1 or arr[-1] == n:\n        print(1)\n    elif arr[0] == n and arr[-1] == 1:\n        print(3)\n    else:\n        print(2)", "import sys\nfrom math import gcd\ninput = sys.stdin.readline\nt = int(input())\nwhile t > 0:\n    n = int(input())\n    a = [*map(int, input().split())]\n    f = 0\n    for i in range(1, n):\n        if a[i] < a[i - 1]:\n            f = 1\n            break\n    if f == 0:\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)\n    t -= 1", "for _ in range(0, int(input())):\n    n = int(input())\n    v = list(map(int, input().split()))\n    r = list(range(2, n))\n    m = not all((i == j for (i, j) in zip(v[1:n], r)))\n    print([m + (v[0] != 1 and v[-1] != n), 3][v[0] == n and v[-1] == 1])", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    else:\n        print(2)", "for i in range(int(input())):\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    else:\n        print(2)", "t = int(input())\nfor zz in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    l1 = sorted(l)\n    if l == l1:\n        print(0)\n    elif l[0] == 1 or l[n - 1] == n:\n        print(1)\n    elif l[0] == n and l[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    sa = sorted(a)\n    if a == sa:\n        print(0)\n    elif a[0] == 1:\n        print(1)\n    elif a[-1] == n:\n        print(1)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    li = arr.copy()\n    li.sort()\n    if arr == li:\n        print(0)\n        continue\n    if arr[0] == 1 or arr[-1] == n:\n        print(1)\n        continue\n    elif arr[-1] == 1 and arr[0] == n:\n        print(3)\n        continue\n    else:\n        print(2)\n        continue", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    sort_a = sorted(a)\n    if a == sort_a:\n        print(0)\n    else:\n        min_a = sort_a[0]\n        max_a = sort_a[-1]\n        if a[0] == min_a or a[-1] == max_a:\n            print(1)\n        elif a[0] == max_a and a[-1] == min_a:\n            print(3)\n        else:\n            print(2)", "t = int(input())\nwhile t > 0:\n    n = int(input())\n    a = []\n    a = input().split()\n    a = [int(x) for x in a]\n    ans = 2\n    if sorted(a) == a:\n        ans = 0\n    elif a[0] == 1 or a[-1] == n:\n        ans = 1\n    elif a[0] == n and a[-1] == 1:\n        ans = 3\n    print(ans)\n    t -= 1", "for run in range(int(input())):\n    n = int(input())\n    lst = list(map(int, input().split()))\n    cpy = lst.copy()\n    cpy.sort()\n    if lst == cpy:\n        print(0)\n    elif lst[0] == 1 or lst[-1] == n:\n        print(1)\n    elif lst[0] == n and lst[-1] == 1:\n        print(3)\n    else:\n        print(2)", "import math\n\ndef primeFactors(n):\n    l = []\n    c = 2\n    while n > 1:\n        if n % c == 0:\n            l.append(c)\n            n = n / c\n        else:\n            c = c + 1\n    return l\n\ndef primeFactors(n):\n    l = []\n    c = 2\n    while n > 1:\n        if n % c == 0:\n            l.append(c)\n            n = n / c\n        else:\n            c = c + 1\n    return l\n\ndef prime(n):\n    prime_flag = 0\n    if n > 1:\n        for i in range(2, int(math.sqrt(n)) + 1):\n            if n % i == 0:\n                prime_flag = 1\n                break\n    return prime_flag\nt = int(input())\nwhile t:\n    n = int(input())\n    l = list(map(int, input().split()))\n    l1 = l[:]\n    l1.sort()\n    if l1 == l:\n        print(0)\n    elif l[0] == 1 and l[n - 1] != n:\n        print(1)\n    elif l[n - 1] == n and l[0] != 1:\n        print(1)\n    elif l[0] == 1 and l[n - 1] == n:\n        print(1)\n    elif l[n - 1] != n and l[0] != 1 and (l[0] != n and l[n - 1] != 0):\n        print(2)\n    elif l[n - 1] == 1 and l[0] == n:\n        print(3)\n    elif l[n - 1] == 1 and l[0] != n:\n        print(2)\n    elif l[0] == n and l[n - 1] != 1:\n        print(2)\n    else:\n        print(3)\n    t = t - 1", "t = int(input())\nl = []\nwhile t > 0:\n    n = int(input())\n    i = 0\n    a = list(map(int, input().split()))\n    if a.index(max(a)) == len(a) - 1 or a.index(min(a)) == 0:\n        for i in range(len(a) - 1):\n            flag = 0\n            if a[i] <= a[i + 1]:\n                flag = 1\n            else:\n                break\n        if flag == 1:\n            print(0)\n        else:\n            print(1)\n    elif a.index(min(a)) == len(a) - 1 and a.index(max(a)) == 0:\n        print(3)\n    else:\n        print(2)\n    t = t - 1", "n = int(input().strip())\nfor _ in range(n):\n    l = int(input().strip())\n    a = list(map(int, input().strip().split()))\n    w = [i for i in range(1, l + 1)]\n    if a == w:\n        print(0)\n    elif a[0] == l and a[l - 1] == 1:\n        print(3)\n    elif a[0] == 1 or a[l - 1] == l:\n        print(1)\n    else:\n        print(2)", "from math import *\nfor _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if arr == list(range(1, n + 1)):\n        print(0)\n    elif arr[0] == 1 or arr[-1] == n:\n        print(1)\n    elif arr[0] == n and arr[-1] == 1:\n        print(3)\n    else:\n        print(2)", "import sys\nsys.setrecursionlimit(10 ** 6)\n\ndef II():\n    return int(sys.stdin.readline())\n\ndef LI():\n    return list(map(int, sys.stdin.readline().split()))\nINF = float('inf')\nMOD = 10 ** 9 + 7\n\ndef solve():\n    t: int = II()\n    for t in range(t):\n        n = II()\n        a = LI()\n        asort = sorted(a)\n        if asort == a:\n            print(0)\n        elif a[0] == 1 or a[-1] == n:\n            print(1)\n        elif a[0] == n and a[-1] == 1:\n            print(3)\n        else:\n            print(2)\n    return\nsolve()", "for Z in range(int(input())):\n    n = int(input())\n    lis = list(map(int, input().split()))\n    a = len(lis)\n    if lis == sorted(lis):\n        print(0)\n    elif lis[0] == 1 or lis[a - 1] == n:\n        print(1)\n    elif lis[0] == n and lis[a - 1] == 1:\n        print(3)\n    else:\n        print(2)", "def main():\n    for i in range(int(input())):\n        n = int(input())\n        array = list(map(int, input().split()))\n        answer = 2\n        if array == sorted(array):\n            answer = 0\n        else:\n            if array[0] == 1 or array[n - 1] == n:\n                answer = 1\n            if array[0] == n and array[n - 1] == 1:\n                answer = 3\n        print(answer)\nmain()", "from math import gcd\nT = int(input())\nfor i in range(T):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    fcheck = sorted(arr)\n    a1 = fcheck[0]\n    a2 = fcheck[-1]\n    if arr[0] == a1 and arr[-1] == a2:\n        t = 0\n        for i in range(1, n - 1):\n            if arr[i] != fcheck[i]:\n                print(1)\n                t = 1\n                break\n        if t != 1:\n            print(0)\n    elif arr[0] == a1 and arr[-1] != a2:\n        print(1)\n    elif arr[0] != a1 and arr[-1] == a2:\n        print(1)\n    elif arr[0] == a2 and arr[-1] == a1:\n        print(3)\n    else:\n        print(2)", "import sys\nfrom math import gcd\ntestcases = int(input())\nwhile testcases > 0:\n    n = int(input())\n    a = list(map(int, sys.stdin.readline().split()))\n    b = sorted(a)\n    if a == b:\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)\n    testcases -= 1", "import math\nfor _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    if arr == list(range(1, n + 1)):\n        print(0)\n    elif arr[0] == n and arr[-1] == 1:\n        print(3)\n    elif arr[0] == 1 or arr[-1] == n:\n        print(1)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    ans = 0\n    for i in range(n):\n        if arr[i] != i + 1:\n            ans = 1\n            break\n    if ans == 0:\n        print(0)\n    elif arr[0] == n and arr[n - 1] == 1:\n        print(3)\n    elif arr[0] == 1 or arr[n - 1] == n:\n        print(1)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    done = True\n    for i in range(n):\n        if i + 1 != a[i]:\n            done = False\n            break\n    if done:\n        print(0)\n        continue\n    if a[0] == 1 or a[n - 1] == n:\n        print(1)\n        continue\n    if a[0] == n and a[n - 1] == 1:\n        print(3)\n        continue\n    print(2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    if l == sorted(l):\n        print(0)\n    elif l[0] == n and l[-1] == 1:\n        print(3)\n    elif l[0] == 1 or l[-1] == n:\n        print(1)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = list(sorted(a))\n    if a == b:\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    A = list(map(int, input().split()))\n    if sorted(A) == A:\n        print(0)\n        continue\n    elif A[0] == 1 or A[-1] == n:\n        print(1)\n        continue\n    elif A[0] == n and A[-1] == 1:\n        print(3)\n    else:\n        print(2)", "r = []\nfor i in range(int(input())):\n    b = int(input())\n    (*a,) = map(int, input().split())\n    if a == sorted(a):\n        r += (0,)\n    elif a[0] == b and a[-1] == 1:\n        r += (3,)\n    elif a[0] == 1 or a[-1] == b:\n        r += (1,)\n    else:\n        r += (2,)\n[print(i) for i in r]", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    f = 0\n    for i in range(1, n + 1):\n        if a[i - 1] != i:\n            f = 1\n            break\n    if f == 0:\n        print(0)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "def permsort(n):\n    l = list(map(int, input().split()))\n    x = l.copy()\n    x.sort()\n    if x == l:\n        print(0)\n    elif l[0] == x[0] or l[len(l) - 1] == x[len(l) - 1]:\n        print(1)\n    elif l[0] == x[len(l) - 1] and l[len(l) - 1] == x[0]:\n        print(3)\n    else:\n        print(2)\nfor _ in range(int(input())):\n    permsort(int(input()))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n\n    def check():\n        for i in range(n):\n            if a[i] != i + 1:\n                return False\n        return True\n    if check():\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "import sys\nsys.setrecursionlimit(10 ** 6)\n\ndef II():\n    return int(sys.stdin.readline())\n\ndef LI():\n    return list(map(int, sys.stdin.readline().split()))\n\ndef LC():\n    return list(input())\n\ndef IC():\n    return [int(c) for c in input()]\n\ndef MI():\n    return map(int, sys.stdin.readline().split())\nINF = float('inf')\nMOD = 10 ** 9 + 7\n\ndef solve():\n    T = II()\n    for t in range(T):\n        N = II()\n        A = LI()\n        Asort = sorted(A)\n        if Asort == A:\n            print(0)\n        elif A[0] == 1 or A[-1] == N:\n            print(1)\n        elif A[0] == N and A[-1] == 1:\n            print(3)\n        else:\n            print(2)\n    return\nsolve()", "import math\nt = int(input())\nfor i in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    flag = True\n    for i in range(1, n + 1):\n        if arr[i - 1] != i:\n            flag = False\n            break\n    if flag:\n        print(0)\n        continue\n    if arr[0] == 1 or arr[-1] == n:\n        print(1)\n        continue\n    if arr[0] == n and arr[-1] == 1:\n        print(3)\n        continue\n    print(2)", "import sys\nimport math\n\ndef solve():\n    N = int(input())\n    A = list(map(int, input().split()))\n    B = sorted(A)\n    if A == B:\n        return 0\n    elif A[0] == 1 or A[-1] == N:\n        return 1\n    elif A[0] == N and A[-1] == 1:\n        return 3\n    else:\n        return 2\nT = int(input())\nfor i in range(T):\n    ans = solve()\n    print(ans)", "for _ in ' ' * int(input()):\n    n = int(input())\n    a = [*map(int, input().split())]\n    if a == sorted(a):\n        print(0)\n    elif a[0] == 1 or a[-1] == n:\n        print(1)\n    elif a[0] == n and a[-1] == 1:\n        print(3)\n    else:\n        print(2)", "n = int(input())\nfor _ in range(n):\n    x = int(input())\n    ls = [int(m) for m in input().split()]\n    flag = 1\n    for i in range(1, x):\n        if ls[i] < ls[i - 1]:\n            flag = 0\n            break\n    if flag == 1:\n        print(0)\n        continue\n    if ls[-1] == 1 and ls[0] == x:\n        print(3)\n        continue\n    if ls[-1] == x or ls[0] == 1:\n        print(1)\n        continue\n    print(2)", "import sys\nimport math\nfrom math import gcd, inf, sqrt, pi, cos, sin, ceil, log2, floor, log\nfrom sys import stdin, stdout, setrecursionlimit\nsetrecursionlimit(2 ** 20)\nN = 20005\nT = 1\nT = int(stdin.readline())\nfor _ in range(T):\n    n = int(stdin.readline())\n    a = list(map(int, stdin.readline().rstrip().split()))\n    A = a.copy()\n    A.sort()\n    if A == a:\n        print(0)\n    elif A[0] == a[0] or A[-1] == a[-1]:\n        print(1)\n    elif A[0] == a[-1] and A[-1] == a[0]:\n        print(3)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = l.copy()\n    a.sort()\n    if l == a:\n        print(0)\n    elif l[0] == 1 or l[n - 1] == n:\n        print(1)\n    elif l[0] == n and l[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "import sys\nsys.setrecursionlimit(10 ** 7)\ninput = sys.stdin.readline\nf_inf = float('inf')\nMOD = 10 ** 9 + 7\n\ndef check_permutation(L):\n    n = len(L)\n    if L == list(range(1, n + 1)):\n        return True\n    else:\n        return False\n\ndef solve():\n    n = int(input())\n    A = list(map(int, input().split()))\n    if check_permutation(A):\n        print(0)\n        return\n    if A[0] == 1 or A[-1] == n:\n        print(1)\n    elif A[0] == n and A[-1] == 1:\n        print(3)\n    else:\n        print(2)\nt = int(input())\nfor _ in range(t):\n    solve()", "import sys\nt = int(input())\nfor i in range(t):\n    n = int(input())\n    A = [int(x) for x in input().split(' ')]\n    already_sorted = True\n    for i in range(1, n):\n        if A[i] < A[i - 1]:\n            already_sorted = False\n            break\n    if already_sorted:\n        print(0)\n    elif A[0] == 1 or A[-1] == n:\n        print(1)\n    elif A[0] == n and A[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor case in range(1, t + 1):\n    n = int(input())\n    arr = [int(x) for x in input().split(' ')]\n    s_arr = sorted(arr)\n    correct = 0\n    for (s, a) in zip(arr, s_arr):\n        if s == a:\n            correct += 1\n        else:\n            break\n    if correct == n:\n        print(0)\n    elif arr[0] == s_arr[0] or arr[-1] == s_arr[-1]:\n        print(1)\n    elif arr[0] == n and arr[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    maxx = n\n    minn = 1\n    if l == sorted(l):\n        print(0)\n        continue\n    elif l[0] == 1 or l[n - 1] == n:\n        print(1)\n        continue\n    elif l[n - 1] == 1 and l[0] == n:\n        print(3)\n        continue\n    else:\n        print(2)", "t = int(input())\nfor inh in range(0, t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    sort = True\n    moves = 0\n    for i in range(1, n):\n        if a[i] < a[i - 1]:\n            sort = False\n            break\n    if sort:\n        print(0)\n    else:\n        if a[0] == n and a[n - 1] == 1:\n            moves = 3\n        elif a[0] == 1 or a[n - 1] == n:\n            moves = 1\n        else:\n            moves = 2\n        print(moves)", "for _ in range(int(input())):\n    a = int(input())\n    b = [int(x) for x in input().split()]\n    if b == sorted(b):\n        print(0)\n    elif b[0] == 1 or b[a - 1] == a:\n        print(1)\n    elif b[0] == a and b[-1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\n\ndef mini(n, L):\n    if n == 1:\n        return 0\n    if n == 2:\n        if L[0] == 1:\n            return 0\n        else:\n            return 1\n    if L[0] == 1:\n        for i in range(n):\n            if L[i] != i + 1:\n                return 1\n        return 0\n    elif L[0] != n:\n        if L[-1] == n:\n            return 1\n        else:\n            return 2\n    elif L[-1] != 1:\n        return 2\n    else:\n        return 3\nfor _ in range(t):\n    n = int(input())\n    L = [int(x) for x in input().split()]\n    print(mini(n, L))", "from sys import stdin, stdout\nimport math\n\ndef ii():\n    return int(stdin.readline())\n\ndef mi():\n    return map(int, stdin.readline().split())\n\ndef li():\n    return list(mi())\n\ndef si():\n    return stdin.readline()\nt = 1\nt = ii()\nfor _ in range(t):\n    n = ii()\n    l1 = li()\n    max1 = l1.index(n)\n    if l1 == list(sorted(l1)):\n        print(0)\n    elif l1[0] == 1 or l1[n - 1] == n:\n        print(1)\n    elif l1[0] == n and l1[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "def mapit():\n    temp = list(map(int, input().split()))\n    return temp\n\ndef solution():\n    n = int(input())\n    arr = mapit()\n    new = arr.copy()\n    new.sort()\n    if new == arr:\n        print(0)\n        return\n    mn_idx = arr.index(min(arr))\n    mx_idx = arr.index(max(arr))\n    if mn_idx == 0:\n        print(1)\n        return\n    if mn_idx == n - 1:\n        if mx_idx == 0:\n            print(3)\n            return\n        else:\n            print(2)\n            return\n    if mx_idx == n - 1:\n        print(1)\n    else:\n        print(2)\n    return\nt = int(input())\nwhile t:\n    t -= 1\n    solution()", "t = int(input())\nfor _ in range(t):\n    i = int(input())\n    l = list(map(int, input().split()))\n    t = sorted(l)\n    if t == l:\n        print(0)\n    elif l[0] == t[0] or l[-1] == t[-1]:\n        print(1)\n    elif l[0] == t[-1] and l[-1] == t[0]:\n        print(3)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    f = True\n    for i in range(n):\n        if i + 1 != a[i]:\n            f = False\n            break\n    if f:\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    count = 0\n    ans = 0\n    if arr[0] == len(arr):\n        count += 1\n    if arr[-1] == 1:\n        count += 1\n    if count == 2:\n        print(3)\n    elif count == 1:\n        print(2)\n    elif count == 0:\n        sorted_arr = sorted(arr)\n        if arr == sorted_arr:\n            print(0)\n        elif arr[0] == 1 or arr[-1] == len(arr):\n            print(1)\n        else:\n            print(2)", "def main(a):\n    n = len(a)\n    if a == list(range(1, n + 1)):\n        return 0\n    if a[0] == 1 or a[-1] == n:\n        return 1\n    if a[0] == n and a[-1] == 1:\n        return 3\n    return 2\nt = int(input())\ninputs = []\nfor _ in range(t):\n    n = int(input())\n    arr = list(map(int, input().split(' ')))\n    inputs.append(arr)\nfor i in inputs:\n    print(main(i))", "import math\nfor _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    if l == sorted(l):\n        print('0')\n    elif l[0] == 1 or l[len(l) - 1] == len(l):\n        print('1')\n    elif l[0] == len(l) and l[len(l) - 1] == 1:\n        print('3')\n    else:\n        print('2')", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    lst = list(map(int, input().split(' ')))\n    if lst == sorted(lst):\n        print(0)\n    elif lst[n - 1] == n:\n        print(1)\n    elif lst[n - 1] == 1 and lst[0] == n:\n        print(3)\n    elif lst[0] == 1:\n        print(1)\n    else:\n        print(2)", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    x = sorted(l)\n    if x == l:\n        print(0)\n    elif l[0] == n and l[-1] == 1:\n        print(3)\n    elif l[0] == 1 or l[-1] == n:\n        print(1)\n    else:\n        print(2)", "t = int(input())\nwhile t:\n    t = t - 1\n    n = int(input())\n    a = list(map(int, input().split()))\n    if a == sorted(a):\n        print(0)\n    elif a[0] == 1 or a[n - 1] == n:\n        print(1)\n    elif a[0] == n and a[n - 1] == 1:\n        print(3)\n    else:\n        print(2)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    ans = sorted(a)\n    if ans == a:\n        print('0')\n    elif a[0] == n and a[n - 1] == 1:\n        print('3')\n    elif a[0] == 1 or a[n - 1] == n:\n        print('1')\n    else:\n        print('2')", "def main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    for i in range(N):\n        if A[i] != i + 1:\n            break\n    else:\n        return print(0)\n    if A[0] == 1 or A[-1] == N:\n        print(1)\n    elif A[0] == N and A[-1] == 1:\n        print(3)\n    else:\n        print(2)\nT = int(input())\nfor _ in range(T):\n    main()", "for _ in range(int(input())):\n    n = int(input())\n    arr = list(map(int, input().split()))\n    arr_sort = sorted(arr)\n    if arr == arr_sort:\n        print(0)\n    elif arr[0] == 1 or arr[n - 1] == n:\n        print(1)\n    elif arr[0] == n and arr[n - 1] == 1:\n        print(3)\n    else:\n        print(2)"]